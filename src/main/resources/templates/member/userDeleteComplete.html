<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{include/head}"></head>
  <body>
    <script>
      (function () {
        if (document.cookie.indexOf("thehyundai=true") > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            "sslvisit=true; expires=" + d.toUTCString() + "; path=/";
        } else if (document.cookie.indexOf("rakuten=") > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            "sslvisit1=true; expires=" + d.toUTCString() + "; path=/";
        } else if (document.cookie.indexOf("hyundaihmall=true") > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            "sslvisit2=true; expires=" + d.toUTCString() + "; path=/";
        } else if (document.cookie.indexOf("fromSite") > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            "sslvisit3=" + "" + "; expires=" + d.toUTCString() + "; path=/";
        } else if (document.cookie.indexOf("recommender") > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie = "sslvisit4=" + "" + "; path=/";
        }
      })();
    </script>
    <!-- Loading -->
    <div style="display: none">
      <div id="loadingBarDiv" style="display: none"></div>
    </div>
    <!-- //Loading -->

    <form id="CSRFForm" action="/ko/mypage/memberSecessionStep2" method="post">
      <div>
        <input
          type="hidden"
          name="CSRFToken"
          value="09381261-9917-49a2-88a9-618bbf0ea7f0"
        />
      </div>
    </form>
    <div
      id="mapleMainPopwrap"
      style="
        position: fixed;
        top: 50%;
        left: 50%;
        width: 81.333333%;
        z-index: 805;
        transform: translate(-50%, -50%);
        display: none;
      "
    ></div>

    <div class="layerArea" id="mapleLayer" style="display: none">
      <div class="layerBg"></div>
    </div>

    <!-- ################## hsome_allContents_wrapper | ë³¸ë¬¸ ì»¨íì¸  ìì­ ################## -->
    <div class="hsome_allContents_wrapper">
      <div class="hsome_allContents">
        <script type="text/javascript">
          function goMainpage() {
            window.sessionStorage.removeItem("moveYn");
            location.href = "/main";
          }
        </script>

      <div th:insert="~{include/member-header}"></div>
        <!-- This script is for AceCounter START -->
        <script language="javascript" type="text/javascript">
          var _jn = "withdraw"; //  가입탈퇴 ( 'join','withdraw' )
          var _jid = "qndjd711@gmail.com"; // 가입시입력한 ID
        </script>
        <!-- AceCounter END -->

        <script type="text/javascript">
          //<![CDATA[
          $(document).ready(function () {
            $("#menuTitle").text("개인정보 변경 / 탈퇴"); //개인정보 변경 / 탈퇴

            //radio -> checkbox로 변경
            $("input:checkbox[name='secessionReason1']").on(
              "click",
              function () {
                var chkYn = $(this).is(":checked");
                var chkId = $(this).attr("id");
                $("input:checkbox[name='secessionReason1']").attr(
                  "checked",
                  false
                );

                if (chkYn) {
                  $("#" + chkId).prop("checked", true);
                }
              }
            );

            $("input:checkbox[name='secessionReason2']").on(
              "click",
              function () {
                var chkYn = $(this).is(":checked");
                var chkId = $(this).attr("id");
                $("input:checkbox[name='secessionReason2']").attr(
                  "checked",
                  false
                );

                if (chkYn) {
                  $("#" + chkId).prop("checked", true);
                }
              }
            );

            $("input:checkbox[name='secessionReason3']").on(
              "click",
              function () {
                var chkYn = $(this).is(":checked");
                var chkId = $(this).attr("id");
                $("input:checkbox[name='secessionReason3']").attr(
                  "checked",
                  false
                );

                if (chkYn) {
                  $("#" + chkId).prop("checked", true);
                }
              }
            );

            //회원 탈퇴 버튼 클릭
            $("#memberSecessionBtn").click(function () {
              /* if($("input:radio[name='secessionReason1']").is(":checked") && $("input:radio[name='secessionReason2']").is(":checked") && $("input:radio[name='secessionReason3']").is(":checked"))
		{	 */
              if ("ko" == "ko" && "Y" == "Y") {
                var lc = new layerConfirm(
                  "회원탈퇴를 진행하시겠습니까?<br>탈퇴하시면 90일간 재가입하실 수 없습니다.",
                  "확인",
                  "취소"
                );

                lc.confirmAction = function () {
                  /* 					
 					if($("#offMemberSecession").prop("checked"))	//오프라인 회원 동시탈퇴 체크 유무 판단
					{	
						$("#chkEnable").val("Y");
					} 
					else 
					{
						$("#chkEnable").val("N");
					} */

                  secessionLogic();
                };
              } else if ("ko" == "ko" && "Y" != "Y") {
                //탈퇴 사유
                var secessionReason1 = "";
                $("input:checkbox[name='secessionReason1']").each(function (
                  index
                ) {
                  if ($(this).is(":checked") == true) {
                    secessionReason1 = $(this).attr("id");
                  }
                });
                var secessionReason2 = "";
                $("input:checkbox[name='secessionReason2']").each(function (
                  index
                ) {
                  if ($(this).is(":checked") == true) {
                    secessionReason2 = $(this).attr("id");
                  }
                });
                var secessionReason3 = "";
                $("input:checkbox[name='secessionReason3']").each(function (
                  index
                ) {
                  if ($(this).is(":checked") == true) {
                    secessionReason3 = $(this).attr("id");
                  }
                });

                $.ajax({
                  type: "GET",
                  url: "/ko/mypage/chkMemberSecession",
                  datatype: "json",
                  data: {
                    prk: $("#prk").val(),
                    chkEnable: $("#chkEnable").val(),
                    secessionReason1: secessionReason1,
                    secessionReason2: secessionReason2,
                    secessionReason3: secessionReason3,
                  },
                  error: function (request, status, error) {
                    layerAlert(
                      "예상치 못한 오류가 발생하였습니다.</br>다시 시도해 주시기 바랍니다."
                    ); //예상치 못한 오류가 발생하였습니다.</br>다시 시도해 주시기 바랍니다.
                    console.log(
                      "code:" +
                        request.status +
                        "\n\n\n\n" +
                        "message:" +
                        request.responseText +
                        "\n\n\n\n" +
                        "error:" +
                        error
                    );
                  },
                  success: function (result) {
                    if (result == "SUCCESS") {
                      var lc = new layerConfirm(
                        "회원탈퇴를 진행하시겠습니까?<br>탈퇴하시면 90일간 재가입하실 수 없습니다.",
                        "확인",
                        "취소"
                      );

                      lc.confirmAction = function () {
                        secessionLogic();
                      };
                    } else if (result == "SecessionUnavailable") {
                      //한섬통합회원 탈퇴 불가의 경우,
                      hideLoadingLp(); //로딩레이어 숨기
                      //layerAlert('주문(배송/교환/반품) 및 상담 등 서비스가 진행중이거나<br>e-money의 자산 보유로 인해 탈퇴가 불가합니다.<br><br>진행중인 서비스 처리 및 e-money 소진 완료 시,<br> 탈퇴를 신청해주세요.');
                      var layerHtml = "";
                      layerHtml +=
                        '      <h3 class="pop_tlt"><strong>탈퇴 불가 안내</strong></h3><br>';
                      layerHtml +=
                        '      <p class="pop_txt" style="font-size:15px"> 주문(배송/교환/반품) 및 상담 서비스가 진행중이거나<br>e-money의 자산 보유로 인해 탈퇴가 불가합니다.<br><br>진행중인 서비스 처리 및 e-money 소진 완료 시,<br> 탈퇴를 신청해주세요.</p>';

                      var la = new layerAlert(layerHtml);
                      $(".dvp_container .dvp_content").css("margin-top", "0px");
                      $(".dvp_container .dvp_content").css(
                        "padding-top",
                        "0px"
                      );
                    } else {
                      layerAlert(
                        "탈퇴작업을 실패했습니다.<br>다시 시도해 주시기 바랍니다."
                      ); //탈퇴작업을 실패했습니다.<br>다시 시도해 주시기 바랍니다.
                    }
                  },
                }); //
              } else {
                secessionLogic();
              }
              /* } 
		else
		{
			layerAlert('탈퇴 사유가 선택되지 않았습니다.');
		} */
            });

            secessionLogic = function () {
              //탈퇴 사유
              var secessionReason1 = "";
              $("input:checkbox[name='secessionReason1']").each(function (
                index
              ) {
                if ($(this).is(":checked") == true) {
                  secessionReason1 = $(this).attr("id");
                }
              });
              var secessionReason2 = "";
              $("input:checkbox[name='secessionReason2']").each(function (
                index
              ) {
                if ($(this).is(":checked") == true) {
                  secessionReason2 = $(this).attr("id");
                }
              });
              var secessionReason3 = "";
              $("input:checkbox[name='secessionReason3']").each(function (
                index
              ) {
                if ($(this).is(":checked") == true) {
                  secessionReason3 = $(this).attr("id");
                }
              });

              showLoadingLp(); //로딩레이어 호출

              $.ajax({
                type: "GET",
                url: "/ko/mypage/memberSecessionLogic",
                datatype: "json",
                data: {
                  prk: $("#prk").val(),
                  chkEnable: $("#chkEnable").val(),
                  secessionReason1: secessionReason1,
                  secessionReason2: secessionReason2,
                  secessionReason3: secessionReason3,
                },
                error: function (request, status, error) {
                  hideLoadingLp(); //로딩레이어 숨기
                  layerAlert(
                    "예상치 못한 오류가 발생하였습니다.</br>" +
                      "다시 시도해 주시기 바랍니다."
                  );
                  console.log(
                    "code:" +
                      request.status +
                      "\n\n\n\n" +
                      "message:" +
                      request.responseText +
                      "\n\n\n\n" +
                      "error:" +
                      error
                  );
                },
                success: function (result) {
                  if (result == "SUCCESS") {
                    //탈퇴 성공
                    hideLoadingLp(); //로딩레이어 숨기
                    var lc = new layerAlert("탈퇴가 완료 되었습니다. ");
                    lc.confirmAction = function () {
                      location.href = "/ko/logout";
                    };
                  } else if (result == "SecessionDeferEgiftRemainAmount") {
                    // e-money 잔액이 남아 있는 경우
                    hideLoadingLp(); //로딩레이어 숨기
                    layerAlert(
                      "e-money 잔액이 있어 탈퇴가 불가능합니다.</br>잔액 환불 후 탈퇴를 해 주시기 바랍니다."
                    );
                  } else if (result == "SecessionDeferOrderCancle") {
                    //구매 취소/반품 상품이 있는경우
                    hideLoadingLp(); //로딩레이어 숨기
                    layerAlert(
                      "구매취소/반품 중인 상품이 있어 탈퇴가 불가능 합니다.</br>구매취소/반품 종료 후 탈퇴를 해 주시기 바랍니다."
                    );
                  } else if (result == "SecessionDeferOrder") {
                    //진행중인 구매가 있는경우
                    hideLoadingLp(); //로딩레이어 숨기
                    layerAlert(
                      "진행중인 구매가 있어 탈퇴가 불가능합니다.</br>구매 종료 후 탈퇴를 해 주시기 바랍니다."
                    );
                  } else if (result == "SecessionBuyNotUsedEgiftCard") {
                    layerAlert(
                      "사용하지 않은 e-Gift Card가 있어 탈퇴가 불가능합니다.<br/> 구매취소/사용 후 탈퇴를 해 주시기 바랍니다."
                    );
                  } else {
                    hideLoadingLp(); //로딩레이어 숨기
                    layerAlert(
                      "탈퇴작업을 실패했습니다.<br>" +
                        "다시 시도해 주시기 바랍니다."
                    );
                  }
                },
              });
            };
          });
          //]]>
        </script>

        <input type="hidden" name="prk" id="prk" value="8953544835076" />
        <input type="hidden" name="chkEnable" id="chkEnable" value="N" />
        <!-- 오프라인 회원 동시탈퇴 체크 유무 -->
        <!-- contents s -->
        <div id="contents" class="hsome_contents mp_withdraw_wrap">
          <div class="gray_tab">탈퇴 사유를 선택해 주세요.</div>
          <div class="withdraw_survey_wrap">
            <div class="mp_box">
              <h4 class="title">개인정보관련<!-- 개인정보관련 --></h4>
              <ul>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_01"
                      name="secessionReason1"
                      value=""
                    />
                    <label for="withdraw_01"
                      >아이디 변경을 위해 탈퇴 후 재가입<!-- 아이디 변경을 위해 탈퇴 후 재가입 --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_02"
                      name="secessionReason1"
                      value=""
                    />
                    <label for="withdraw_02"
                      >장기간 부재 (군입대, 유학 등)<!-- 장기간 부재 (군입대, 유학 등) --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_03"
                      name="secessionReason1"
                      value=""
                    />
                    <label for="withdraw_03"
                      >개인정보 유출우려<!-- 개인정보 누출우려 --></label
                    >
                  </div>
                </li>
              </ul>
            </div>
            <div class="mp_box">
              <h4 class="title">사이트 이용관련<!-- 사이트 이용관련 --></h4>
              <ul>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_04"
                      name="secessionReason2"
                      value=""
                    />
                    <label for="withdraw_04"
                      >컨텐츠 등 이용할 만한 서비스 부족<!-- 컨텐츠 등 이용할 만한 서비스 부족 --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_05"
                      name="secessionReason2"
                      value=""
                    />
                    <label for="withdraw_05"
                      >사이트 이용불편<!-- 사이트 이용불편 --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_06"
                      name="secessionReason2"
                      value=""
                    />
                    <label for="withdraw_06"
                      >이용빈도 낮음<!-- 이용빈도 낮음 --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_07"
                      name="secessionReason2"
                      value=""
                    />
                    <label for="withdraw_07"
                      >실질적인 혜택 부족<!-- 실질적인 혜택 부족 --></label
                    >
                  </div>
                </li>
              </ul>
            </div>
            <div class="mp_box">
              <h4 class="title">서비스 이용관련<!-- 서비스 이용관련 --></h4>
              <ul>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_08"
                      name="secessionReason3"
                      value=""
                    />
                    <label for="withdraw_08"
                      >상품의 다양성/ 품질불만<!-- 상품의 다양성/ 품질불만 --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_09"
                      name="secessionReason3"
                      value=""
                    />
                    <label for="withdraw_09"
                      >상품 가격불만<!-- 상품 가격불만 --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_10"
                      name="secessionReason3"
                      value=""
                    />
                    <label for="withdraw_10">배송불만<!-- 배송불만 --></label>
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_11"
                      name="secessionReason3"
                      value=""
                    />
                    <label for="withdraw_11"
                      >교환/환불/반품불만<!-- 교환/환불/반품불만 --></label
                    >
                  </div>
                </li>
                <li>
                  <div class="radio_stl">
                    <input
                      type="checkbox"
                      id="withdraw_12"
                      name="secessionReason3"
                      value=""
                    />
                    <label for="withdraw_12"
                      >사후조치 불만<!-- 사후조치 불만 --></label
                    >
                  </div>
                </li>
              </ul>
            </div>

            <div class="mp_box"></div>
            <div class="btn_wrap btn_wrap_div1">
              <a href="#;" class="btnstl3 solid_btn_blk" id="memberSecessionBtn"
                >회원 탈퇴</a
              >
            </div>
          </div>
        </div>
        <!-- contents e -->
      </div>
    </div>
    <!-- ################## //hsome_allContents_wrapper | ë³¸ë¬¸ ì»¨íì¸  ìì­ ################## -->
    <script type="text/javascript">
      var inicisCookieFlag = true;
      var inicisMethod = "";
      var authData = "";

      var uagentLow = navigator.userAgent.toLocaleLowerCase();
      if (uagentLow.search("android") > -1) {
      } else if (uagentLow.search("iphone") > -1) {
        var isSafari = navigator.userAgent.toLowerCase().indexOf("safari") > -1;
        var isChrome = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
        if (isSafari) {
          if (isChrome) {
            isSafari = false;
          } else {
            if (navigator.userAgent.toLowerCase().indexOf("crios") > -1) {
              isSafari = false;
            }
            inicisCookieFlag = false;
          }
        }
      }

      var WPAY = {
        FORMID: "frmWpayHspay",
        IFRAMEID: "ifrmWpayHspayLayer",
        loading: false,
        startLoading: function () {
          WPAY.loading = true;
          showLoadingLp();
        },
        stopLoading: function () {
          setTimeout(function () {
            WPAY.loading = false;
            hideLoadingLp();
          }, 300);
        },

        addForm: function () {
          if ($("#" + WPAY.FORMID).length > 0) {
            $("#" + WPAY.FORMID).remove();
          }
          return $("<form/>", {
            id: WPAY.FORMID,
            enctype: "application/x-www-form-urlencodeed",
          }).appendTo($("body"));
        },

        open: function (callback) {
          var depthIndex = layerNextActiveIndex();
          $(".hsome_layerpop_contents").removeClass("hspay-layer");

          callLayerPopupShow("depth" + depthIndex, function (obj) {
            $(obj).addClass("hspay-layer");
            var wpayTag = "";
            var wpayStyleTag =
              "width: 100%; height: 99%; margin-top: 0; z-index: 100001;display: block !important; top: 0px; left: 0; -webkit-overflow-scrolling: touch; background: #fff";
            wpayTag += '<div class="layerpop_wrap lp_loading_wrap">';
            wpayTag += '	<div class="lyrpp_top">';
            wpayTag +=
              '		<a href="javascript:;" class="lyrpp_close lyrpp_close_stl1 btn_lyrpp_close"><span>닫기<!-- 닫기 --></span></a>';
            wpayTag += "	</div>";
            wpayTag += '	<div class="lyrpp_mid" id="wpayLoadingImage">';
            wpayTag += '		<div class="loading_box">';
            wpayTag += '			<p class="guide_box">처리중입니다</p>';
            wpayTag += "		</div>";
            wpayTag += "	</div>";
            wpayTag +=
              '<iframe id="' +
              WPAY.IFRAMEID +
              '" name="' +
              WPAY.IFRAMEID +
              '" src="about:blank" width="100%" height="100%" style="' +
              wpayStyleTag +
              '" frameborder="0" border="0"></iframe>';

            wpayTag += "</div>";
            $(obj).html(wpayTag);

            callback();
            setTimeout(function () {
              WPAY.loadingHide();
            }, 500);
          });
        },

        loadingShow: function () {
          $("#wpayLoadingImage").show();
        },

        loadingHide: function () {
          $("#wpayLoadingImage").fadeOut();
        },

        close: function () {
          var $obj = $(".hsome_layerpop_contents.hspay-layer");
          $obj.removeClass("visible");
          $obj.removeClass("active");
          $obj.removeClass("hspay-layer");
          $(".hsome_layerpop_contents .fcs").hide();
          holdBodyHide();
          hs_allCon.css({ marginTop: curScrollPosition * -1 });
          setTimeout(function () {
            hs_allCon.css({ marginTop: 0 });
            $(window).scrollTop(curScrollPosition);
            $obj.empty();
          }, 200);
          return false;
        },

        convertFormToJSON: function convertFormToJSON(_form) {
          var obj = {};
          try {
            if (_form[0].tagName && _form[0].tagName.toUpperCase() == "FORM") {
              var arr = _form.serializeArray();
              if (arr != null) {
                $.each(arr, function () {
                  obj[this.name] = this.value;
                });
              }
            }
          } catch (e) {
          } finally {
          }
          return obj;
        },

        wpaylayerConfirm: function (msg, confirmMsg, cancleMsg) {
          var layer = new layerConfirm(msg, confirmMsg, cancleMsg);
          $("#confirmCloseDiv").click(function () {
            WPAY.stopLoading();
          });
          return layer;
        },
      };

      WPAY.cardRegistSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, "mid", data.mid);
        addHidden($frmWpayHspay, "wpayUserKey", data.wpayUserKey);
        addHidden($frmWpayHspay, "ci", data.ci);
        addHidden($frmWpayHspay, "payMethod", data.payMethod);
        addHidden($frmWpayHspay, "bankCardCode", data.bankCardCode);
        addHidden($frmWpayHspay, "returnUrl", data.returnUrl);
        addHidden($frmWpayHspay, "signature", data.signature);

        $frmWpayHspay.attr({
          method: "POST",
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.memberRegistSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, "mid", data.mid);
        addHidden($frmWpayHspay, "userId", data.userId);
        addHidden($frmWpayHspay, "ci", data.ci);
        addHidden($frmWpayHspay, "reqType", data.reqType);
        addHidden($frmWpayHspay, "userNm", data.userNm);
        addHidden($frmWpayHspay, "hNum", data.hNum);
        addHidden($frmWpayHspay, "hCorp", data.hCorp);
        addHidden($frmWpayHspay, "birthDay", data.birthDay);
        addHidden($frmWpayHspay, "socialNo2", data.socialNo2);
        addHidden($frmWpayHspay, "frnrYn", data.frnrYn);
        addHidden($frmWpayHspay, "returnUrl", data.returnUrl);
        addHidden($frmWpayHspay, "payUrl", data.payUrl);
        addHidden($frmWpayHspay, "signature", data.signature);

        $frmWpayHspay.attr({
          method: "POST",
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.memberUnRegistSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, "mid", data.mid);
        addHidden($frmWpayHspay, "wpayUserKey", data.wpayUserKey);
        addHidden($frmWpayHspay, "ci", data.ci);
        addHidden($frmWpayHspay, "returnUrl", data.returnUrl);
        addHidden($frmWpayHspay, "signature", data.signature);

        $frmWpayHspay.attr({
          method: "POST",
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.passwordChangeSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, "mid", data.mid);
        addHidden($frmWpayHspay, "wpayUserKey", data.wpayUserKey);
        addHidden($frmWpayHspay, "ci", data.ci);
        addHidden($frmWpayHspay, "returnUrl", data.returnUrl);
        addHidden($frmWpayHspay, "signature", data.signature);

        $frmWpayHspay.attr({
          method: "POST",
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.paymentAuthSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();

        inicisMethod = "paymentAuthSubmit";
        authData = data;

        addHidden($frmWpayHspay, "mid", data.mid);
        addHidden($frmWpayHspay, "wpayUserKey", data.wpayUserKey);
        addHidden($frmWpayHspay, "wpayToken", data.wpayToken);
        addHidden($frmWpayHspay, "ci", data.ci);
        addHidden($frmWpayHspay, "payMethod", data.payMethod);
        addHidden($frmWpayHspay, "bankCardCode", data.bankCardCode);
        addHidden($frmWpayHspay, "oid", data.oid);
        addHidden($frmWpayHspay, "goodsName", data.goodsName);
        addHidden($frmWpayHspay, "goodsPrice", data.goodsPrice);
        addHidden($frmWpayHspay, "buyerName", data.buyerName);
        addHidden($frmWpayHspay, "buyerTel", data.buyerTel);
        addHidden($frmWpayHspay, "buyerEmail", data.buyerEmail);
        addHidden($frmWpayHspay, "cardQuota", data.cardQuota);
        addHidden($frmWpayHspay, "cardInterest", data.cardInterest);
        addHidden($frmWpayHspay, "couponCode", data.couponCode);
        addHidden($frmWpayHspay, "flagPin", data.flagPin);
        addHidden($frmWpayHspay, "flagPinMsg", data.flagPinMsg);
        addHidden($frmWpayHspay, "returnUrl", data.returnUrl);
        addHidden($frmWpayHspay, "flagCardPoint", data.flagCardPoint);
        addHidden($frmWpayHspay, "signature", data.signature);

        $frmWpayHspay.attr({
          method: "POST",
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.accesstermsSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, "mid", data.mid);
        addHidden($frmWpayHspay, "returnUrl", data.returnUrl);
        addHidden($frmWpayHspay, "signature", data.signature);
        $frmWpayHspay.attr({
          method: "POST",
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      var checkoutWpay = (function () {
        var btnCardRegist = function () {
          //if (WPAY.loading == true) return;
          //WPAY.startLoading();

          $.get(
            "/ko/wpay/cardRegist?fncallback=checkoutCardRegistCallback&wpayReferUrl=" +
              referUrl,
            function (data) {
              if (data.resultCode == "NOT_WPAY_MEMBER") {
                var layer = WPAY.wpaylayerConfirm(
                  "간편결제 회원으로 등록되어 있지 않습니다.<br/>간편결제 가입 및 결제수단 등록을 진행하시겠습니까?",
                  "확인",
                  "취소"
                );
                layer.confirmAction = function () {
                  //WPAY.open(function () {
                  inicisMethod = "memberRegist";
                  wpayMemberRegist();
                  //});
                };
                layer.cancleAction = function () {
                  //WPAY.stopLoading();
                };
                return;
              }

              WPAY.open(function () {
                inicisMethod = "cardRegist";
                WPAY.cardRegistSubmit(data);
                //WPAY.stopLoading();
              });
            }
          ).fail(function () {
            //WPAY.stopLoading();
          });
        };

        $("#card_easy_pay").on("click", "li.swiper-slide", function () {
          if ($(this).hasClass("last")) {
            checkoutWpay.resetEasyPay();
            checkoutWpay.resetGeneralPay();

            $("input[name=wpayToken]").val("");
            $("input[name=cardQuota]").val("00");
            $("input[name=cardInterest]").val("N");
          } else {
            var $cardCode = $(this).find("input[name=card_choice]"),
              selectCardCode = $("input[name=bankCardCode]").val();

            $("input[name=mode]").val($cardCode.val() == "" ? "" : "KO001-3");
            $("input[name=bankCardCode]").val($cardCode.val());
            $("input[name=wpayToken]").val($cardCode.data("token"));
            $("input[name=cardQuota]").val("00");
            $("input[name=cardInterest]").val("N");
            if ($cardCode.val() != selectCardCode)
              checkoutWpay.drawInstallment($cardCode.val());
          }

          if (typeof onclickButtonTextChange === "function") {
            onclickButtonTextChange();
          }
        });

        var drawCardList = function drawCardList() {
          var drawEasyPayTag = function (data) {
            var $card_easy_pay = $("#card_easy_pay"),
              easyPay = "";

            easyPay += '	<ul class="swiper-wrapper">';

            if (data.resultCode == "0000") {
              $card_easy_pay.data("nointlist", data.noIntCardList);
              $.each(data.cardList, function (index, item) {
                var wpayCardInfo = WPAY_CARD_INFO[item.bankCardCode];

                easyPay += '		<li class="swiper-slide">';
                easyPay += '			<div class="card_item ' + wpayCardInfo.cls + '">';
                if (item.discinfo != null && item.discinfo.applYn == "Y") {
                  easyPay += '	<div class="sale_now_box1910">';
                  easyPay += '		<span class="sale_type1">즉시할인</span>';
                  easyPay += "	</div>";
                }
                easyPay += '				<div class="radio_stl">';
                easyPay +=
                  '					<input type="radio" id="card_choice_' +
                  item.bankCardNo +
                  '" name="card_choice" value="' +
                  item.bankCardCode +
                  '" data-token="' +
                  item.wpayToken +
                  '" />';
                easyPay += '					<label for="card_choice_' + index + '">';
                easyPay +=
                  '						<div class="card_name">' +
                  decodeURIComponent(item.cardName) +
                  "</div>";
                easyPay += "					</label>";
                easyPay +=
                  '                    <input type="hidden" class="discInfo_applYn" value="' +
                  item.discinfo.applYn +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_couponCode" value="' +
                  item.discinfo.couponCode +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_discAmt" value="' +
                  item.discinfo.discAmt +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_minAmt" value="' +
                  item.discinfo.minAmt +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_maxAmt" value="' +
                  item.discinfo.maxAmt +
                  '"/>';
                easyPay += "				</div>";
                easyPay +=
                  '				<div class="card_num">' +
                  $.trim(item.bankCardNo).replace(/-/g, " ") +
                  "</div>";
                easyPay +=
                  '				<select name="card_pay_term_' +
                  item.bankCardCode +
                  '" id="card_pay_term_' +
                  item.bankCardCode +
                  '" class="sodsb" data-custom-class="card_pay_term">';
                easyPay += '					<option value="00">일시불</option>';
                easyPay += "				</select>";
                easyPay += "			</div>";
                easyPay += "		</li>";
              });
            }

            easyPay += '		<li class="swiper-slide last">';
            easyPay += '			<div class="card_item cd_kind_add_guide">';
            easyPay +=
              '				<p class="desc_box"><span class="under" id="linkOneBuySetting">마이페이지>정보>등록한 카드 정보</span>에서<br>신규카드를 등록하실 수 있습니다.</p>';
            easyPay += "			</div>";
            easyPay += '			<div style="hidden">';
            easyPay +=
              '				<input type="radio" id="card_choice_" name="card_choice" value=""/>';
            easyPay += "			</div>";
            easyPay += "		</li>";
            easyPay += "	</ul>";
            $("#card_easy_pay").html(easyPay);
            $("#card_easy_pay select.sodsb").selectOrDie();

            var easyPaySwiper = $("#card_easy_pay")[0].swiper;
            if (easyPaySwiper != null) easyPaySwiper.destroy();
            swiperCardActive("swiper_card_easy_pay");

            if ($card_easy_pay.find("li.swiper-slide").length > 1) {
              $card_easy_pay
                .find('[name="card_choice"]:eq(0)')
                .trigger("click");
            }
            if (typeof fn_updateDiscInfo === "function") {
              $("#oneClickCardLoadYn").val("Y");
              fn_updateDiscInfo();
            }
          };

          return $.get("/ko/wpay/cardListForPayment")
            .done(drawEasyPayTag)
            .fail(drawEasyPayTag);
        };

        var drawInstallment = function drawInstallment(cardCode) {
          var noIntList = $("#card_easy_pay").data("nointlist");
          var paymentPrice = parseInt($("#total").val(), 0) || 0;
          var MAX_INSTALLMENT = 12,
            MAX_NOINTSTALLMENT_PRICE = 0,
            MAX_NOINTSTALLMENT_MONTH = ["0"];
          var $selectInstallment = $(
              "select[id='card_pay_term_" + cardCode + "']"
            ),
            selectTag = "";

          if ($("[name='mode']").val() != "KO001-3") return;

          selectTag = '<option value="00">일시불</option>';

          if (paymentPrice >= 50000) {
            if (noIntList != null) {
              $.each(noIntList, function (idx, item) {
                if (item.cardCode != cardCode) return true;

                $.each(item.cardEventList, function (i, cardEvent) {
                  if (
                    paymentPrice >= cardEvent.amount * 10000 &&
                    cardEvent.amount * 10000 > MAX_NOINTSTALLMENT_PRICE
                  ) {
                    MAX_NOINTSTALLMENT_PRICE = cardEvent.amount * 10000;
                    MAX_NOINTSTALLMENT_MONTH = cardEvent.month;
                  }
                });
              });
            }

            for (var i = 2; i <= MAX_INSTALLMENT; i++) {
              if (i < 10) {
                month = "0" + i;
              } else {
                month = i;
              }
              if ($.inArray(i.toString(), MAX_NOINTSTALLMENT_MONTH) > -1) {
                selectTag +=
                  '<option value="' +
                  month +
                  '" data-nointstallment="Y">' +
                  i.toString() +
                  "개월 무이자</option>";
              } else {
                selectTag +=
                  '<option value="' +
                  month +
                  '">' +
                  i.toString() +
                  "개월</option>";
              }
            }
          }

          $selectInstallment.html(selectTag);
          $selectInstallment.selectOrDie("update");
        };
        var drawCardListForCheckout = function () {
          return this.drawCardList().always(function () {
            var $lastSlide = $("#card_easy_pay").find(".swiper-slide.last"),
              $cardItem = $lastSlide.find(".card_item");
            $cardItem.addClass("cd_kind_add").removeClass("cd_kind_add_guide");
            $cardItem.html(
              '<a href="javascript:;" class="card_add_btn" onclick="checkoutWpay.btnCardRegist()">카드등록</a>'
            );
          });
        };
        var drawCardListForOneclick = function () {
          return this.drawCardList().always(function () {
            var $lastSlide = $("#card_easy_pay").find(".swiper-slide.last"),
              $cardItem = $lastSlide.find(".card_item");
            $cardItem.addClass("cd_kind_add_guide").removeClass("cd_kind_add");
            $cardItem.html(
              '<p class="desc_box"><span class="under" id="linkOneBuySetting">마이페이지>정보>등록한 카드 정보</span>에서<br>신규카드를 등록하실 수 있습니다.</p>'
            );
          });
        };
        return {
          drawCardList: drawCardList,

          drawCardListForCheckout: drawCardListForCheckout,

          drawCardListForOneclick: drawCardListForOneclick,

          drawInstallment: drawInstallment,

          btnCardRegist: btnCardRegist,

          resetEasyPay: function resetEasyPay() {
            $("input[name=mode]").val("");
            $("input[name=bankCardCode]").val("");
            $("input[name=card_choice]").attr("checked", false);
          },

          resetGeneralPay: function resetGeneralPay() {
            $("input[name=mode]").val("");
            $("#general_pay li").removeClass();
          },
        };
      })();

      var wpayStartMemberRegist = function () {
        if (WPAY.loading == true) return;
        WPAY.startLoading();

        wpayMemberRegist();
      };

      var wpayMemberRegist = function () {
        $.get(
          "/ko/wpay/memberRegist?fncallback=checkoutMemberRegistCallback&wpayReferUrl=" +
            referUrl,
          function (memberData) {
            setTimeout(function () {
              if ($.trim(memberData.mid) == "") {
                layerAlert(
                  decodeURIComponent(memberData.resultMsg) ||
                    "간편결제 회원등록을 실패하였습니다."
                );
                WPAY.close();
                return;
              }

              WPAY.memberRegistSubmit(memberData);
            }, 300);
          }
        ).always(function () {
          WPAY.stopLoading();
        });
      };

      var wpayStartCardRegist = function () {
        if (WPAY.loading == true) return;
        WPAY.startLoading();

        WPAY.open(function () {
          wpayCardRegist();
        });
      };

      var wpayCardRegist = function () {
        $.get(
          "/ko/wpay/cardRegist?fncallback=cardRegistCallback&wpayReferUrl=" +
            referUrl,
          function (data) {
            switch (data.resultCode) {
              case "0000":
                WPAY.cardRegistSubmit(data);
                break;
              case "NOT_WPAY_MEMBER":
                wpayMemberRegistConfirm();
                break;
              case "IS_ANONYMOUS":
                location.href = "/ko/member/login";
                break;
              default:
                new layerAlert(
                  decodeURIComponent(
                    data.resultMsg || "신규카드등록중 오류가 발생하였습니다."
                  )
                );
            }
          }
        );
      };

      var checkoutMemberRegistCallback = function (resultCode, resultMsg) {
        switch (resultCode) {
          case "2406":
            if (inicisCookieFlag == false && inicisMethod == "memberRegist") {
              inicisCookieFlag = true;
              inicisIosCookieSetting();

              wpayStartMemberRegist();
            } else {
              layerWpayCookieSettingView();
              WPAY.close();
            }
            break;
          case "0000":
            $.get(
              "/ko/wpay/cardRegist?fncallback=checkoutCardRegistCallback",
              function (data) {
                WPAY.cardRegistSubmit(data);
              }
            );
            break;
          default:
            new layerAlert(resultMsg);
            WPAY.close();
            break;
        }
      };

      var checkoutCardRegistCallback = function (
        resultCode,
        resultMsg,
        result
      ) {
        switch (resultCode) {
          case "2406":
            if (inicisCookieFlag == false && inicisMethod == "cardRegist") {
              inicisCookieFlag = true;
              inicisIosCookieSetting();

              wpayStartCardRegist();
            } else {
              layerWpayCookieSettingView();
              WPAY.close();
            }
            break;
          case "0000":
            checkoutWpay.drawCardListForCheckout();
            layerWpayCardDetailView(result);
            break;
          default:
            new layerAlert(resultMsg);
            WPAY.close();
            break;
        }
      };

      /*
 * iframe -> 페이지 전환 방식으로 변경하게 되어 미사용
 * wpayResult.jsp 페이지로 이전
var checkoutPaymentAuthCallback = function (resultCode, resultMsg, result) {
	switch(resultCode) {
	case "2406": 
		if(inicisCookieFlag == false && inicisMethod == "paymentAuthSubmit"){
		    inicisCookieFlag = true;
		    inicisIosCookieSetting();
		    
	    			WPAY.open(function () {
	    				WPAY.paymentAuthSubmit(authData);
	    			});
	    		
		}else{
		    layerWpayCookieSettingView();
			WPAY.close();
		}
		break;
	case "0000":
		WPAY.loadingShow();
		var $PAY_FORM = $("#PAY_FORM");
		addHidden($PAY_FORM, 'wtid'	, result.wtid);
		
		if (window.parent == self) {
			
			setTimeout(function () {
				$PAY_FORM.attr({
					'method': 'POST',
					'action': '/ko/inicis/inipaywpay/sop/response',
					'target': '_top'
				});
				$PAY_FORM.submit();
			}, 200);
		} else {
			
			var formData = WPAY.convertFormToJSON($PAY_FORM);
			window.parent.postMessage({ func: 'oneclickPostSubmit', data: formData }, '*');
		}
		break;
	default:
		new layerAlert(resultMsg);
		WPAY.close();
		break;
	}
}
 
 */

      var layerWpayCardDetailView = function (data) {
        var cardDetailTag = "";
        var card = WPAY_CARD_INFO[data.bankCardCode];
        cardDetailTag += '<div class="layerpop_wrap lp_simple_pay_wrap">';
        cardDetailTag += '	<div class="lyrpp_top">';
        cardDetailTag +=
          '		<a href="javascript:;" onclick="WPAY.close()" class="lyrpp_close lyrpp_close_stl1 btn_lyrpp_close"><span>닫기</span></a>';
        cardDetailTag += "		<h2>등록 완료</h2>";
        cardDetailTag += "	</div>";
        cardDetailTag += '	<div class="lyrpp_mid">';
        cardDetailTag += '		<div class="card_preview_wrap">';
        cardDetailTag += '			<div class="card_item ' + card.cls + '">';
        cardDetailTag +=
          '				<div class="card_name">' + decodeURIComponent(card.name) + "</div>";
        cardDetailTag +=
          '				<div class="card_num">' +
          $.trim(data.bankCardNo).replace(/-/g, " ") +
          "</div>";
        cardDetailTag += "			</div>";
        cardDetailTag += '			<p class="msg_box">카드등록이 완료되었습니다.</p>';
        cardDetailTag += "		</div>";
        cardDetailTag += '		<ul class="btn_wrap btn_wrap_div1">';
        cardDetailTag +=
          '			<li><a href="javascript:;" onclick="WPAY.close()" class="btnstl3 solid_btn_blk">';
        cardDetailTag += "				<span>간편결제를 등록해 주셔서 감사합니다</span></a>";
        cardDetailTag += "			</li>";
        cardDetailTag += "		</ul>";
        cardDetailTag += "	</div>";
        cardDetailTag += "</div>";

        var $wpayLayer = $(".hsome_layerpop_contents.hspay-layer");
        $wpayLayer.html(cardDetailTag);
      };

      var layerWpayCookieSettingView = function () {
        $("#btnWpayCookieSetting").click();
      };

      $(document).on("click", "#linkOneBuySetting", function () {
        window.parent.postMessage(
          {
            func: "oneclickPostMovePage",
            data: {
              url: "/ko/mypage/oneBuy",
            },
          },
          "*"
        );
      });

      var WPAY_CARD_INFO = [];
      WPAY_CARD_INFO["03"] = { name: "롯데카드", cls: "cd_kind_lotte" };
      WPAY_CARD_INFO["04"] = { name: "현대카드", cls: "cd_kind_hyundai" };
      WPAY_CARD_INFO["06"] = { name: "국민카드", cls: "cd_kind_kb" };
      WPAY_CARD_INFO["11"] = { name: "BC카드", cls: "cd_kind_bc" };
      WPAY_CARD_INFO["12"] = { name: "삼성카드", cls: "cd_kind_samsung" };
      WPAY_CARD_INFO["14"] = { name: "신한카드", cls: "cd_kind_shinhan" };
      WPAY_CARD_INFO["16"] = { name: "NH카드", cls: "cd_kind_nh" };
      WPAY_CARD_INFO["01"] = { name: "하나카드", cls: "cd_kind_hana" };
      WPAY_CARD_INFO["17"] = { name: "하나카드", cls: "cd_kind_hana" };

      function inicisIosCookieSetting() {
        WPAY.close();
        var uagentLow = navigator.userAgent.toLocaleLowerCase();
        if (uagentLow.search("android") > -1) {
        } else if (uagentLow.search("iphone") > -1) {
          var isSafari =
            navigator.userAgent.toLowerCase().indexOf("safari") > -1;
          var isChrome =
            navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
          if (isSafari) {
            if (isChrome) {
              isSafari = false;
            } else {
              if (navigator.userAgent.toLowerCase().indexOf("crios") > -1) {
                isSafari = false;
              }
              iniWin = window.open(
                "https://wpay.inicis.com/hspay/error/cookieErr",
                "iniErr",
                "top=10, left=100, width500, height=500"
              );
              iniWin.blur();
            }
          }
        }
      }
    </script>

    <div style="display: none">
      <a
        href="javascript:;"
        id="btnWpayCookieSetting"
        class="btn_plusbox btn_popup"
        data-poptarget="pop_wpay_cookie_info"
        ><span></span
      ></a>
      <div class="divpop_wrap dvp_style_2 pop_wpay_cookie_info">
        <div class="dvp_container">
          <div class="dvp_close_btn b-close">
            <span>닫기</span>
          </div>
          <h1 class="dvp_header">
            등록 및 결제창이 잘 안 열릴 경우,<br />
            <span class="point_fc">[브라우저 쿠키 설정]</span>을
            <span class="point_fc">‘항상허용’</span>으로<br />변경해주세요.
          </h1>
          <div class="dvp_content">
            <div class="dvp_tit">iOS</div>
            <ul class="ul_dot_blk">
              <li>홈 화면의 [설정] 메뉴 실행</li>
              <li>
                설정의 Safari 선택<br />
                <ul>
                  <li>
                    ① [방문기록 및 웹사이트 데이터 지우기]&gt;[방문기록 및
                    데이터 지우기] 선택
                  </li>
                  <li>② [쿠키차단] 항목을 항상 허용으로 선택</li>
                  <li>③ [사이트간 추적방지]를 미허용으로 선택</li>
                  <li>④ [고급] 메뉴의 [javascript] 항목을 허용으로 설정</li>
                </ul>
              </li>
              <li>Safari 실행 후 [개인정보 브라우징] 미허용</li>
              <li>브라우저 새로 고침</li>
            </ul>
            <div class="dvp_tit">Android(갤럭시 기준)</div>
            <ul class="ul_dot_blk">
              <li>홈 화면의 [인터넷] 실행</li>
              <li>
                우측상단(또는 좌측상단) 목록 버튼&gt;[설정] 선택<br />
                <ul>
                  <li>① 개인정보보호&gt;[쿠키허용] 항목 선택</li>
                  <li>
                    ② 개인정보보호&gt;개인데이터삭제&gt;[방문기록, 캐시, 쿠키 및
                    사이트데이터] 삭제
                  </li>
                  <li>
                    ③ 고급&gt;자바스크립트 사용, 팝업차단 해제 선택 브라우저
                    새로 고침
                  </li>
                </ul>
              </li>
              <li>인터넷 실행 후 [개인정보 브라우징] 미허용</li>
              <li>브라우저 새로 고침</li>
            </ul>
            <div class="btn_wrap btn_wrap_div1">
              <a href="#none" class="btnstl3 solid_btn_blk b-close"
                ><span>확인</span></a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      //if(handsomePageId == "productList" && getCookie("handsomeproductback") == "Y") {
      //window.history.back();
      //}

      $(document).ready(function () {
        var appVersionCheckOS = getCookie("app");
        var appVersionCheckVer = getCookie("appVer");
        if (
          (appVersionCheckOS == "ios" && appVersionCheckVer.startsWith("1.")) ||
          (appVersionCheckOS == "android" && appVersionCheckVer < 43)
        ) {
          location.href = "/ko/mobilecommon/appDownload";
          return;
        }

        var todayDate = new Date();

        if (getCookie("mainNoticeWrapKo") != todayDate.getDate()) {
          var innerHtml = "";
          innerHtml +=
            '<div class="notice_pop" id="mainNoticeWrap" style="z-index:100000;">                                                                              ';
          innerHtml +=
            '    <div class="popwrap_renewal1910" id="mainNoticeWrapKo">                                                                                       ';
          innerHtml +=
            '        <div class="pop_cnt">                                                                                                                     ';
          innerHtml +=
            '            <h3 class="pop_tlt" style="font-size:20px">                                                                                           ';
          innerHtml +=
            "            아이폰 APP <br>                                                                                                                       ";
          innerHtml +=
            "            카드결제 불가 안내                                                                                                                    ";
          innerHtml +=
            "            </h3>                                                                                                                                 ";
          innerHtml +=
            '            <p class="pop_txt">                                                                                                                   ';
          innerHtml +=
            "            아이폰 APP 2.2.2 버전에서<br/>일부 결제 오류가 발생하고 있습니다.<br/>(원클릭결제는 정상)<br/><br/>                                   ";
          innerHtml +=
            "            2.2.3 버전으로 업데이트 하시면<br/>정상 결제가 가능합니다.<br/>업데이트 후, 결제 진행 부탁드립니다.<br/><br/>                         ";
          innerHtml +=
            "            고객님께 불편을 드려 죄송합니다.                                                                                                      ";
          innerHtml +=
            "            </p>                                                                                                                                  ";
          innerHtml +=
            "        </div>                                                                                                                                    ";
          innerHtml +=
            '        <div class="btnwrap">                                                                                                                     ';
          innerHtml +=
            '            <input type="button" class="btn stoptoday closeLayerPopup" value="오늘은 그만보기 ">                                                  ';
          innerHtml +=
            '            <input type="button" class="btn close closeLayerPopup" value="닫기">                                                                  ';
          innerHtml +=
            "        </div>                                                                                                                                    ";
          innerHtml +=
            '        <a href="#" class="btn_close closeLayerPopup"></a>                                                                                        ';
          innerHtml +=
            "    </div>                                                                                                                                        ";
          innerHtml += "</div> ";
          innerHtml +=
            '<div style="position:absolute; top:0; left:0; width:100%; height:100%; z-index:9999;" id="notice_pop_layer"><div style="position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; opacity:0;"></div> </div> ';

          if (appVersionCheckOS == "ios" && appVersionCheckVer == "2.2.2") {
            if (
              "content1Page" == "ordersheet" ||
              "content1Page" == "cartPage"
            ) {
              $(".hsome_contents").after(innerHtml);
              $("#notice_pop_layer").show();
            }
          }
        }

        $(".closeLayerPopup").on("click", function () {
          $("#notice_pop_layer").hide();
          if ($(this).hasClass("stoptoday")) {
            //오늘은 그만보기
            var todayDate = new Date();
            var cookieId = $(this).parents(".popwrap_renewal1910").attr("id");
            setOneDayCookie(cookieId, todayDate.getDate(), 1);
          }
          $(this).parents(".popwrap_renewal1910").css("display", "none");
        });

        //        else if((appVersionCheckOS == "ios" && "2.0.1".indexOf(appVersionCheckVer)  < 0)
        //            ||   (appVersionCheckOS == "android" && "44".indexOf(appVersionCheckVer) < 0))

        //        {
        //            var la = new layerConfirm("새로운 기능이 추가되었습니다.<br>업데이트 하시겠습니까?", "확인", "취소");
        //            la.cancleAction = function(){//취소 호출 펑션
        //             };

        //             la.confirmAction = function(){//확인 호출 펑션
        //                 //location.href = '/ko/mobilecommon/appDownload';
        //                 goDownload1(appVersionCheckOS);
        //                 return;
        //             };
        //         }

        if (handsomePageId != "mainIntro") {
          if ($.cookie("handsomecategorypagecnt") !== null) {
            $.removeCookie("handsomecategorypagecnt", { path: "/" });
          }
          if ($.cookie("handsomecategoryscroll") !== null) {
            $.removeCookie("handsomecategoryscroll", { path: "/" });
          }
          if ($.cookie("handsomelayerscroll") !== null) {
            $.removeCookie("handsomelayerscroll", { path: "/" });
          }
          if (
            $.cookie("handsomeproductback") !== null &&
            handsomePageId != "productList"
          ) {
            $.removeCookie("handsomeproductback", { path: "/" });
          }
          if (
            $.cookie("handsomecategoryhash") !== null &&
            !(
              handsomePageId == "productList" ||
              handsomePageId == "hsProductDetailPage"
            )
          ) {
            $.removeCookie("handsomecategoryhash", { path: "/" });
          }
        }
        /* var la = new layerConfirm('메시지','확인 버튼 텍스트','취소 버튼 텍스트');
		la.cancleAction = function(){//취소 호출 펑션
		return;
		};

		la.confirmAction = function(){//확인 호출 펑션
		return;
		}; */

        $(document).on("click", ".set", function () {
          location.href = "/ko/mypage/configMain";
        });
      });

      // 쿠키 생성
      function setCookie(cName, cValue, cDay) {
        var expire = new Date();
        expire.setDate(expire.getDate() + cDay);
        cookies = cName + "=" + escape(cValue) + "; path=/ ";
        if (typeof cDay != "undefined")
          cookies += ";expires=" + expire.toGMTString() + ";";
        document.cookie = cookies;
      }

      //쿠키 삭제
      function deletecookie(name, pram_searchwords) {
        var today = new Date();
        var path = "/ko/";
        var lastIndex = path.lastIndexOf("/");
        path = path.substring(0, lastIndex);
        today.setDate(today.getDate() + -1);
        document.cookie =
          name + "=; path=" + path + "; expires=" + today.toGMTString() + ";";
        $("." + pram_searchwords).css("display", "none");
      }

      function deletecookiePath(name, pram_searchwords, path) {
        var today = new Date();
        if (path == "") {
          path = "/";
        }
        today.setDate(today.getDate() + -1);
        document.cookie =
          name + "=; path=" + path + "; expires=" + today.toGMTString() + ";";
        if (pram_searchwords != "") {
          $("." + pram_searchwords).css("display", "none");
        }
      }

      //언어설정
      function language(isoCode) {
        //같은언어 선택시 문구 비노출
        if ("ko" == isoCode) {
          languageProcess(isoCode);
          $("#footerSelectLang").val("").change();
        } else {
          var la = new layerConfirm(
            "서비스 언어를 변경하시겠습니까?<br/>서비스 언어를 변경하시면 쇼핑백에 담은 상품이 삭제됩니다.",
            "확인",
            "취소"
          );
          la.confirmAction = function () {
            //확인 호출 펑션
            languageProcess(isoCode);
          };

          la.cancleAction = function () {
            $("#footerSelectLang").val("").change();
          };

          $("#confirmCloseDiv").on("click", function () {
            $("#footerSelectLang").val("").change();
          });
        }
      }

      function languageProcess(isoCode) {
        gaIsoCodeEncoding(isoCode);
        if (location.href.indexOf("/handsome/") > -1) {
          $.ajax({
            type: "post",
            url: "/ko/logout?" + getCSRFToken(),
            error: function (request, status, error) {
              $.ajax({
                type: "post",
                url: "/ko/_s/language" + "?" + "code=" + isoCode,
                dataType: "json",
                error: function (request, status, error) {
                  console.log(
                    "code:" +
                      request.status +
                      "\n" +
                      "message:" +
                      request.responseText +
                      "\n" +
                      "error:" +
                      error
                  );
                },
                success: function (result) {
                  location.href = "/ko/";
                },
              });
            },
            success: function (result) {
              $.ajax({
                type: "post",
                url: "/ko/_s/language" + "?" + "code=" + isoCode,
                dataType: "json",
                error: function (request, status, error) {
                  console.log(
                    "code:" +
                      request.status +
                      "\n" +
                      "message:" +
                      request.responseText +
                      "\n" +
                      "error:" +
                      error
                  );
                },
                success: function (result) {
                  location.href = "/ko/";
                },
              });
            },
          });
        } else {
          location.href = "/" + isoCode;
        }
      }

      function getCSRFToken() {
        return "CSRFToken=" + $("#CSRFForm [name='CSRFToken']").first().val();
      }

      function slideOnMain() {
        var autocom_swiper = new Swiper("#autocompleteImg", {
          slidesPerView: 3.333,
          paginationClickable: false,
          spaceBetween: "1.5625%",
          freeMode: true,
        });
      }

      //재입고 알림 오픈
      function getWarehousingPage(productcode, layer) {
        $.ajax({
          url: "/ko/p/checkRewareHousing",
          type: "GET",
          dataType: "json",
          data: { code: productcode },
          success: function (data) {
            if ("N" == data.loginYn) {
              var la = new layerConfirm(
                "장시간 사용하지 않아 로그아웃 되었습니다.",
                "확인",
                "취소"
              );
              la.confirmAction = function () {
                location.href = "/ko/member/login";
              };
            }
            if (data.rewareHousingUserYn == "Y") {
              var lc = new layerAlert(
                "" +
                  data.userID +
                  "(ID) 로<br/>이미 재입고 알림 신청 이력이 있습니다.<br/>(동일 e-mail)"
              );
            } else if (data.rewareHousingYn == "Y") {
              var cla = new layerAlert("이미 신청을 완료하였습니다.");
            } else {
              if (data.rewareHouseOtherProductYn == "Y") {
                var lc = new layerConfirm(
                  "동일상품의 재입고 알림 신청내역이 있습니다.<br/>다른 옵션으로 재입고 알림 신청을<br/>추가하시겠습니까?",
                  "확인",
                  "취소"
                );
                lc.confirmAction = function () {
                  layerPopupOpen(
                    "/ko/product/rewarehousing?productcode=" +
                      productcode +
                      "&layer=" +
                      layer,
                    layer,
                    ".hsome_layer_popup.product_warehousing_pop"
                  );
                };
              } else {
                layerPopupOpen(
                  "/ko/product/rewarehousing?productcode=" +
                    productcode +
                    "&layer=" +
                    layer,
                  layer,
                  ".hsome_layer_popup.product_warehousing_pop"
                );
              }
            }
          },
        });
      }
      //재입고 알림 닫기
      function warehousingPageClose(layer) {
        layerPopupClose2(layer, ".hsome_layer_popup.product_warehousing_pop");
      }

      //상품 검색 오픈
      function getProductSearchPage() {
        layerPopupOpen(
          "/ko/mobilecommon/productsearch",
          ".hsome_layerpop_contents.lp_depth1",
          ".layerpop_wrap.lp_cs_qna_search_wrap"
        );
      }

      //상품 검색 닫기
      function productSearchPageClose() {
        $(".layerpop_wrap.lp_cs_qna_search_wrap .ui_tab").find(".fcs").remove();
        layerPopupClose(
          ".hsome_layerpop_contents.lp_depth1",
          ".layerpop_wrap.lp_cs_qna_search_wrap"
        );
        // SNS 댓글의 경우 검색창 닫기 후 댓글창 active
        if (window.isSnsReplySearchPop) {
          $(".sns_comment_ipt_pop .sns-comment-ipt").addClass("active");
        }
      }

      //상품 검색 오픈
      function getProductSearchPage2() {
        layerPopupOpen(
          "/ko/mobilecommon/productsearch?type=manto",
          ".hsome_layerpop_contents.lp_depth1",
          ".layerpop_wrap.lp_cs_qna_search_wrap2"
        );
      }

      //상품 검색 닫기
      function productSearchPageClose2() {
        layerPopupClose(
          ".hsome_layerpop_contents.lp_depth1",
          ".layerpop_wrap.lp_cs_qna_search_wrap2"
        );
        // SNS 댓글의 경우 검색창 닫기 후 댓글창 active
        if (window.isSnsReplySearchPop) {
          $(".sns_comment_ipt_pop .sns-comment-ipt").addClass("active");
        }
      }

      //상품상세 > 상품 검색 오픈
      function getProductSearchPageOnProductDetail() {
        layerPopupOpen(
          "/ko/mobilecommon/productsearch",
          ".hsome_layerpop_contents.lp_depth2",
          ".layerpop_wrap.lp_cs_qna_search_wrap"
        );
        setTimeout(function () {
          $(
            ".hsome_layerpop_contents.lp_depth2 .lyrpp_close.lyrpp_close_stl1"
          ).attr("onclick", "productSearchPageOnProductDetailClose();");
        }, 400);
      }

      //상품 검색 닫기
      function productSearchPageOnProductDetailClose() {
        $(".layerpop_wrap.lp_cs_qna_search_wrap .ui_tab").find(".fcs").remove();
        layerPopupClose(
          ".hsome_layerpop_contents.lp_depth2",
          ".layerpop_wrap.lp_cs_qna_search_wrap"
        );
        // SNS 댓글의 경우 검색창 닫기 후 댓글창 active
        if (window.isSnsReplySearchPop) {
          $(".sns_comment_ipt_pop .sns-comment-ipt").addClass("active");
        }
      }

      //레이어 팝업 오픈
      function layerPopupOpen(url, layer, pop) {
        $.cookie("handsomelayerscroll", $(document).scrollTop(), { path: "/" });
        $(layer).addClass("active");

        setTimeout(function () {
          $(".hsome_allContents").addClass("disabled");
        }, 300);
        setTimeout(function () {
          $(layer).addClass("visible");
        }, 400);

        //$(layer).html('<img src="http://www.thehandsome.com/_ui/handsomemobile/images/common/ico_loader.gif" alt="loading" class="hsome_quickMenu_loader" />');
        $(layer).html(
          '<img src="http://www.thehandsome.com/_ui/handsomemobile/images/common/Spinner-1s-200px.png" alt="loading" class="hsome_quickMenu_loader" />'
        );

        jQuery.ajax({
          url: url,
          data: "",
          type: "get",
          success: function (data) {
            setTimeout(function () {
              $(layer).html(data);
              $(pop).addClass("visible");
            }, 0);
            setTimeout(function () {
              $(pop).addClass("active");
            }, 0);
            setTimeout(function () {
              $(pop).addClass("activated");
            }, 400);
          },
        });
      }

      //레이어 팝업 닫기
      function layerPopupClose(layer, pop) {
        var $popup = $(this).closest(pop);
        $popup.removeClass("activated");
        $popup.removeClass("active");
        setTimeout(function () {
          $popup.removeClass("visible");
          $(".hsome_allContents").removeClass("disabled");
          $(layer).removeClass("active");
          $(layer).removeClass("visible");
          if ($.cookie("handsomelayerscroll") !== null) {
            $(document).scrollTop(getCookie("handsomelayerscroll"));
          }
        }, 400);
        return false;
      }

      //레이어 팝업 닫기
      function layerPopupClose2(layer, pop) {
        $(pop).removeClass("activated");
        $(pop).removeClass("active");
        setTimeout(function () {
          $(pop).removeClass("visible");
          $(".hsome_allContents").removeClass("disabled");
          $(layer).removeClass("active");
          $(layer).removeClass("visible");
          if ($.cookie("handsomelayerscroll") !== null) {
            $(document).scrollTop(getCookie("handsomelayerscroll"));
          }
        }, 400);
        return false;
      }

      function saveWishContents(
        contentType,
        templateType,
        contentPK,
        contentSubject
      ) {
        $.ajax({
          url: "/ko/magazine/saveMyWishContents",
          type: "POST",
          datatype: "json",
          data: {
            contentType: contentType,
            templateType: templateType,
            contentPK: contentPK,
            contentSubject: contentSubject,
            CSRFToken: $("#CSRFForm [name='CSRFToken']").first().val(),
          },
          success: function (data) {
            //alert(data);
          },
        });
      }

      function ftLogout() {
        deletecookie("UID");
        deletecookie("criteoEmail");
        deletecookie("memberGb");

        location.href = "/ko/logout";
      }

      var oneclick = {
        isEvent: false,
        depthIndex: 0,
        open: function (products, vipDeliAvail) {
          var broadcastIndex = "";
          var inflowTime = "";
          var broadcastDate = "";
          if (broadcastIndex != "") {
            inflowTime = "20230130194425";
          }

          if (this.isEvent) return;

          this.depthIndex = layerNextActiveIndex();
          $(".hsome_layerpop_contents.lp_depth" + this.depthIndex).css(
            "bottom",
            "-1000px"
          );
          $(".hsome_layerpop_contents.lp_depth" + this.depthIndex).load(
            "/ko/checkout/oneclick?products=" +
              products +
              "&vipDeliAvail=" +
              vipDeliAvail +
              "&broadcastIndex=" +
              broadcastIndex +
              "&inflowTime=" +
              inflowTime +
              "&broadcastDate=" +
              broadcastDate,
            function () {
              $(this)
                .removeClass("lp_stl_black")
                .removeClass("lp_stl_trans")
                .removeClass("dir_w")
                .removeClass("dir_h");
              $(this).addClass(
                "dir_h lp_stl_black lp_stl_trans visible active"
              );
              oneclick.isEvent = true;
            }
          );
        },
        calliFramePopup: function (depth) {
          $(".iframe_popup_wrap")
            .removeClass("lp_stl_black")
            .removeClass("lp_stl_trans")
            .removeClass("dir_w")
            .removeClass("dir_h"); //초기화
          curScrollPosition = $(window).scrollTop();
          holdBodyShow();
          $(".iframe_popup_wrap").addClass("dir_h"); //슬라이드방향

          // showLoadingLpIdx("2001");
          return false;
        },
        init: function () {
          if (this.isEvent) return;

          if (window.addEventListener) {
            window.addEventListener("message", oneclickPostMessage, false);
          } else if (window.attachEvent) {
            window.attachEvent("onmessage", oneclickPostMessage, false);
          }

          this.isEvent = true;
        },
      };

      function oneclickPostLoaded() {
        $(".iframe_popup_wrap").addClass("lp_stl_trans"); //black 배경 활성화
        $(".iframe_popup_wrap").addClass("visible");
        $(".iframe_popup_wrap").addClass("active");
      }

      function oneclickPostSubmit(data) {
        var payForm = data,
          formName = "oneclickPayForm";

        if ($("#" + formName).length > 0) {
          $("#" + formName).remove();
        }
        var $oneclickPayForm = $("<form/>", {
          id: formName,
          enctype: "application/x-www-form-urlencodeed",
        }).appendTo($("body"));
        $oneclickPayForm.empty();

        $.each(payForm, function (name, value) {
          addHidden($oneclickPayForm, name, value);
        });

        $oneclickPayForm.attr({
          method: "POST",
          action:
            "https://www.thehandsome.com/mypage/inicis/inipaywpay/sop/response",
          target: "_top",
        });

        $oneclickPayForm.submit();
      }

      function oneclickPostPointSubmit(data) {
        var payForm = data,
          formName = "oneclickPayForm";

        if ($("#" + formName).length > 0) {
          $("#" + formName).remove();
        }

        var $oneclickPayForm = $("<form/>", {
          id: formName,
        }).appendTo($("body"));
        $oneclickPayForm.empty();

        $.each(payForm, function (name, value) {
          addHidden($oneclickPayForm, name, value);
        });
        $oneclickPayForm.attr({
          method: "POST",
          action: "https://www.thehandsome.com/mypage/checkout/placepoint",
          target: "_top",
        });
        $oneclickPayForm.submit();
      }

      function payFormData(data) {
        var payForm = data,
          formName = "PAY_FORM";

        if ($("#" + formName).length > 0) {
          $("#" + formName).remove();
        }
        var $oneclickPayForm = $("<form/>", {
          id: formName,
        }).appendTo($("body"));
        $oneclickPayForm.empty();

        $.each(payForm, function (name, value) {
          addHidden($oneclickPayForm, name, value);
        });
      }

      function requestPaymentSubmit(data) {
        WPAY.paymentAuthSubmit(data);
      }

      function oneclickPostClose() {
        $.get("/ko/shoppingbag/oneclickCancel");
        holdBodyHide();
        if (oneclick.depthIndex > 0) {
          $(".lp_oneclick_buy_pay_wrap").removeClass("visible");
          $(".lp_oneclick_buy_pay_wrap").removeClass("active");
        } else {
          $(".iframe_popup_wrap").removeClass("visible");
          $(".iframe_popup_wrap").removeClass("active");
        }

        $(".hs_pro_view_floating .floating_box").removeClass("active");
        $(".hs_pro_view_floating .floating_box").eq(1).addClass("active");

        $("#onclickLodingArea").hide();
        $("#lpOrderApplyBtns").show();
        $("#lyrppTopColseArea").show();

        $("body").css({ marginTop: curScrollPosition * -1 });
        setTimeout(function () {
          $("body").css({ marginTop: 0 });
          $("body").scrollTop(curScrollPosition);

          if (oneclick.depthIndex > 0) {
            $(
              ".hsome_layerpop_contents.lp_depth" + oneclick.depthIndex
            ).empty();
            $(
              ".hsome_layerpop_contents.lp_depth" + oneclick.depthIndex
            ).removeClass("dir_h lp_stl_black lp_stl_trans visible active");
            oneclick.isEvent = false;
          } else {
            $(".iframe_popup_wrap").remove();
          }
        }, 400);
      }

      function oneclickPostMovePage(data) {
        location.href = data.url;
      }

      function oneclickPostMessage(event) {
        if ("https://www.thehandsome.com/mypage".indexOf(event.origin) == -1)
          return;

        var data = event.data;

        if (typeof window[data.func] == "function") {
          window[data.func].call(null, data.data);
        }
      }

      function callSaveAppPush(pushMsg) {
        var obj = JSON.parse($.trim(pushMsg).replace(/(?:\r\n|\r|\n)/g, ""));
        var notiTitle = obj.notiTitle; // 제목
        var notiMsg = obj.notiMsg; // 메세지 텍스트
        var notiImg = obj.notiImg; // 이미지 링크
        var message = obj.message; // html 전달
        var msgLink = obj.msgLink; // link
        var msgType = obj.msgType; // 메시지 유형 ('T' - Text, 'H' - Html, 'L' - Link)

        if (obj.notiTitle != "[스타일라이브♥]") {
          $.ajax({
            type: "POST",
            url: "/ko/mobilecommon/saveMarketPush",
            datatype: "json",
            data: {
              CSRFToken: $("#CSRFForm [name='CSRFToken']").first().val(),
              msg: notiMsg,
              title: notiTitle,
              img: notiImg,
              html: encodeURIComponent(message),
              msgLink: msgLink,
              msgType: msgType,
            },
            error: function (request, status, error) {
              //    	       console.log( "code:" + request.status+"\n\n\n\n" + "message:" + request.responseText+"\n\n\n\n" + "error:" + error );
            },
            success: function (result) {
              if (result == "SUCCESS") {
              }
            },
          });
        }
      }

      //쿠키 생성
      function setOneDayCookie(cName, cValue, cDay) {
        var currentDate = new Date();
        var expire = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth(),
          currentDate.getDate() + cDay,
          0,
          0,
          0
        );
        cookies = cName + "=" + escape(cValue) + "; path=/ ";
        if (typeof cDay != "undefined")
          cookies += ";expires=" + expire.toGMTString() + ";";
        document.cookie = cookies;
      }
    </script>
    <div id="iframepopuparea"></div>
    <!-- 네이버 애널리틱스 전환페이지 설정 : s -->
    <!-- 네이버 애널리틱스 전환페이지 설정 : e -->

    <script type="text/javascript">
      /*
layer popup 형식의 alert 창

========================[example code]===========================
	layerAlert('메세지를 입력하세요');
	
	var lc = new layerAlert('입력하신 정보가 변경완료 되었습니다.');
	lc.confirmAction = function(){
		//alert화면 실행후 후속 처리 부분 추가
		location.href="/ko/mypage/order/myorders";
	};
=============================================================
*/

      var btnConfirmText = "확인";
      var btnCancleText = "취소";
      var btnCloseText = "닫기";
      var layerAlert = function (msg, refresh) {
        btnConfirmText = "확인";
        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        var alertTag = "";
        alertTag += '<div class="dvp_container">';
        alertTag +=
          '	<div class="dvp_close_btn b-close" id="alertCloseDiv"><span>' +
          btnCloseText +
          "</span></div>";
        alertTag += '	<h1 class="dvp_header"></h1>';
        alertTag += '	<div class="dvp_content">';
        alertTag += '		<div class="desc_box">' + msg + "</div>";
        alertTag += "	</div>";
        alertTag += '	<div class="btn_wrap">';
        alertTag +=
          '		<button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          "</button>";
        alertTag += "	</div>";
        alertTag += "</div>";

        $("#popAlertConfirmDiv").html(alertTag);

        $(".divpop_wrap_dev.pop_alert_confirm").bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: "fixed",
          onClose: function () {
            holdBodyHide();
            $("#popAlertConfirmDiv").html("");
          },
        });
        holdBodyShow();

        $("#popAlertConfirmDiv")
          .find(".btn-alert-confirm")
          .click(function () {
            if (refresh == true) location.reload();
            $("#alertCloseDiv").click();
            t.confirmAction();
          });
      };

      /*
layer popup 형식의 alert 창 변형 -> 팝업창에서의 팝업창일 때 확인 누르거나 X 눌렀을 때 holdBodyHide();를 타면서 Gnb가 나타나는 현상 때문에 layerAlertGnb로 하나 추가하여
refresh 변수 제거, onClose function 제거

========================[example code]===========================
	layerAlertGnb('메세지를 입력하세요');
	
	var la = new layerAlertGnb('입력하신 정보가 변경완료 되었습니다.');
	
=============================================================
*/
      var layerAlertGnb = function (msg) {
        btnConfirmText = "확인";
        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        var alertTag = "";
        alertTag += '<div class="dvp_container">';
        alertTag +=
          '	<div class="dvp_close_btn b-close" id="alertCloseDiv"><span>' +
          btnCloseText +
          "</span></div>";
        alertTag += '	<h1 class="dvp_header"></h1>';
        alertTag += '	<div class="dvp_content">';
        alertTag += '		<div class="desc_box">' + msg + "</div>";
        alertTag += "	</div>";
        alertTag += '	<div class="btn_wrap">';
        alertTag +=
          '		<button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          "</button>";
        alertTag += "	</div>";
        alertTag += "</div>";

        $("#popAlertConfirmDiv").html(alertTag);

        $(".divpop_wrap_dev.pop_alert_confirm").bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: "fixed",
          /* onClose: function() { 
        	holdBodyHide();
        	$("#popAlertConfirmDiv").html("");
        } */ //body 클래스 scroll 상태 유지
        });
        holdBodyShow();

        $("#popAlertConfirmDiv")
          .find(".btn-alert-confirm")
          .click(function () {
            //if(refresh==true) location.reload(); //refresh check 제거
            $("#alertCloseDiv").click();
            t.confirmAction();
          });
      };

      /*
layer popup 형식의 confirm 창



========================[example code]===========================

	var lc = new layerConfirm('메세지를 입력하세요', '확인버튼', '취소버튼');
	lc.confirmAction = function(){
		console.log('재정의한 함수입니다.');
	};

=============================================================

*/
      var layerConfirm = function (msg, confirmMsg, cancleMsg) {
        var t = this;

        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };
        this.cancleAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        if (confirmMsg != "") {
          btnConfirmText = confirmMsg;
        } else {
          btnConfirmText = "확인";
        }
        if (cancleMsg != "") {
          btnCancleText = cancleMsg;
        } else {
          btnCancleText = "취소";
        }

        var confirmTag = "";
        confirmTag += '<div class="dvp_container">';
        confirmTag +=
          '	<div class="dvp_close_btn b-close" id="confirmCloseDiv"><span>' +
          btnCloseText +
          "</span></div>";
        confirmTag += '	<div class="dvp_content">';
        confirmTag += '		<div class="desc_box">' + msg + "</div>";
        confirmTag += "	</div>";
        confirmTag += '	<div class="btn_wrap btns">';
        confirmTag +=
          '		<button class="btn btn_bd_g btn-alert-close">' +
          btnCancleText +
          "</button>";
        confirmTag +=
          '		<button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          "</button>";
        confirmTag += "	</div>";
        confirmTag += "</div>";

        $("#popAlertConfirmDiv").html(confirmTag);

        $(".divpop_wrap_dev.pop_alert_confirm").bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: "fixed",
          onClose: function () {
            holdBodyHide();
            $("#popAlertConfirmDiv").html("");
          },
        });
        holdBodyShow();

        $("#popAlertConfirmDiv")
          .find(".btn-alert-close")
          .click(function () {
            $("#confirmCloseDiv").click();
            t.cancleAction();
          });

        $("#popAlertConfirmDiv")
          .find(".btn-alert-confirm")
          .click(function () {
            $("#confirmCloseDiv").click();
            t.confirmAction();
          });
      };

      /*
layer popup 형식의 confirm 창
특정 ios 기종에서 하단 버튼부분이 짤려나오는 현상이 있어서 ios용으로 별도 생성
 */
      var layerConfirmIos = function (msg, confirmMsg, cancleMsg) {
        var t = this;

        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };
        this.cancleAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        if (confirmMsg != "") {
          btnConfirmText = confirmMsg;
        } else {
          btnConfirmText = "확인";
        }
        if (cancleMsg != "") {
          btnCancleText = cancleMsg;
        } else {
          btnCancleText = "취소";
        }

        var confirmTag = "";
        confirmTag += '<div class="dvp_container">';
        confirmTag +=
          ' <div class="dvp_close_btn b-close" id="confirmCloseDiv"><span>' +
          btnCloseText +
          "</span></div>";
        confirmTag += ' <div class="dvp_content">';
        confirmTag += ' <div class="desc_box">' + msg + "</div>";
        confirmTag += " </div>";
        confirmTag += ' <div class="btn_wrap btns">';
        confirmTag +=
          ' <button class="btn btn_bd_g btn-alert-close">' +
          btnCancleText +
          "</button>";
        confirmTag +=
          ' <button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          "</button>";
        confirmTag += " </div>";
        confirmTag += "</div>";

        $("#popAlertConfirmDiv").html(confirmTag);

        $(".divpop_wrap_dev.pop_alert_confirm").bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: "fixed",
          onClose: function () {
            holdBodyHide();
            $("#popAlertConfirmDiv").html("");
          },
        });
        $(".divpop_wrap_dev.pop_alert_confirm").css({
          top: "50%",
          margin: "0",
          transform: "translate3d(0, -50%, 0)",
        });
        holdBodyShow();

        $("#popAlertConfirmDiv")
          .find(".btn-alert-close")
          .click(function () {
            $("#confirmCloseDiv").click();
            t.cancleAction();
          });

        $("#popAlertConfirmDiv")
          .find(".btn-alert-confirm")
          .click(function () {
            $("#confirmCloseDiv").click();
            t.confirmAction();
          });
      };

      /*
       * var lc = new layerConfirm2('메세지를 입력하세요', '취소버튼', '확인버튼');
       */
      var layerConfirm2 = function (msg, confirmMsg, cancleMsg) {
        var t = this;

        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };
        this.cancleAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        if (confirmMsg != "") {
          btnConfirmText = confirmMsg;
        } else {
          btnConfirmText = "확인";
        }
        if (cancleMsg != "") {
          btnCancleText = cancleMsg;
        } else {
          btnCancleText = "취소";
        }

        var confirmTag = "";
        confirmTag += '<div class="dvp_container">';
        confirmTag +=
          ' <div class="dvp_close_btn b-close" id="confirmCloseDiv"><span>' +
          btnCloseText +
          "</span></div>";
        confirmTag += ' <div class="dvp_content">';
        confirmTag += '     <div class="desc_box">' + msg + "</div>";
        confirmTag += " </div>";
        confirmTag += ' <div class="btn_wrap btns">';
        confirmTag +=
          '     <button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          "</button>";
        confirmTag +=
          '     <button class="btn btn_bd_g btn-alert-close">' +
          btnCancleText +
          "</button>";
        confirmTag += " </div>";
        confirmTag += "</div>";

        $("#popAlertConfirmDiv").html(confirmTag);

        $(".divpop_wrap_dev.pop_alert_confirm").bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: "fixed",
          onClose: function () {
            holdBodyHide();
            $("#popAlertConfirmDiv").html("");
          },
        });
        holdBodyShow();

        $("#popAlertConfirmDiv")
          .find(".btn-alert-close")
          .click(function () {
            $("#confirmCloseDiv").click();
            t.cancleAction();
          });

        $("#popAlertConfirmDiv")
          .find(".btn-alert-confirm")
          .click(function () {
            $("#confirmCloseDiv").click();
            t.confirmAction();
          });
      };

      var editableLayer = function (msg, style, refresh) {
        btnConfirmText = "확인";
        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        var alertTag = "";
        alertTag += '<div class="dvp_container" style="' + style + '">';
        alertTag +=
          '   <div class="dvp_close_btn b-close" id="alertCloseDiv"><span>' +
          btnCloseText +
          "</span></div>";
        alertTag += '   <h1 class="dvp_header"></h1>';
        alertTag += '   <div class="dvp_content" style="margin-top: -21px;">';
        alertTag += '       <div class="desc_box">' + msg + "</div>";
        alertTag += "   </div>";
        alertTag += '   <div class="btn_wrap" style="margin-top: 0px;">';
        alertTag +=
          '       <button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          "</button>";
        alertTag += "   </div>";
        alertTag += "</div>";

        $("#popAlertConfirmDiv").html(alertTag);

        $(".divpop_wrap_dev.pop_alert_confirm").bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: "fixed",
          onClose: function () {
            holdBodyHide();
            $("#popAlertConfirmDiv").html("");
          },
        });
        holdBodyShow();

        $("#popAlertConfirmDiv")
          .find(".btn-alert-confirm")
          .click(function () {
            if (refresh == true) location.reload();
            $("#alertCloseDiv").click();
          });
        $("#alertCloseDiv").click(function () {
          t.confirmAction();
        });
      };

      /*
       * 챗봇 관련 스크립트
       */
      // 앱이 백그라운도 들어 갈 때에
      //function  appWillEnterBackground() {
      //    alert("enter background");
      //
      //}
      // 앱이 포어그라운드로 들어갈 때에
      //function appDidEnterForground() {
      //    alert("enter foreground");
      //
      //}
      // 챗봇의 푸시링크를 클릭했을 때
      function openChatView(token, talkId) {
        callChatbot(token, talkId);
      }

      function callChatbot(token, talkId) {
        if (token == null) {
          $.ajax({
            type: "POST",
            url: "/ko/chatbot/token",
            data: { CSRFToken: "09381261-9917-49a2-88a9-618bbf0ea7f0" },
            async: false,
            success: function (data) {
              if (data.result == "SHOULD_LOGIN") {
                var la = new layerAlert("로그인이 필요합니다");
                la.confirmAction = function () {
                  //확인 버튼 클릭시 추가 호출 펑션
                  location.href = "/ko/member/login";
                };
              } else if (data.result == "NOT_VIP") {
                var la = new layerAlert("VVIP 회원님만 이용 가능하십니다");
                la.confirmAction = function () {
                  //확인 버튼 클릭시 추가 호출 펑션
                };
              } else if (data.result == "OFF-HOURS") {
                //일반 : CREW, FRIEND, 간편회원일경우, 평일 오전 9시 30분 ~ 오후 6시 30분만 사용가능
                var la = new layerAlert(
                  "채팅상담 서비스는 평일 오전 9시 ~ 오후 6시에 이용 가능하십니다."
                );
                la.confirmAction = function () {
                  //확인 버튼 클릭시 추가 호출 펑션
                };
              } else {
                if (data.token != "") {
                  token = data.token;
                }
              }
            },
            error: function (e) {},
          });
        }

        if (token != null && token != "") {
          try {
            ga("gp.send", "pageview", {
              title: "하니톡_채팅서비스", //가상페이지 화면명
              location: "http://www.thehandsome.com/ko/hanitalk", //가상페이지URL
            });
          } catch (e) {
            console.log(e);
          }
          $("#chatbot_token").val(token);
          $("#chatbot_talkId").val(talkId);

          var targetTalkUrl = "";
          if (location.href.indexOf("www.thehandsome.com") > -1) {
            //운영
            //운영 챗봇 url
            targetTalkUrl =
              "https://talk.thehandsome.com/front/v1/jsp/view/chat.jsp";
          } else {
            //그외
            //개발 챗봇 url
            targetTalkUrl =
              "https://handsome-dev.enomix.co.kr/front/v1/jsp/view/chat.jsp";
          }

          $("#chatbotForm").attr("action", targetTalkUrl);

          $("#chatbotForm").submit();
        }
        return false;
      }
      /*
       * // 챗봇 관련 스크립트
       */

      function updateLocation() {
        $.ajax({
          type: "POST",
          url: "/ko/mobilecommon/updateLocation",
          datatype: "json",
          data: {
            CSRFToken: "09381261-9917-49a2-88a9-618bbf0ea7f0",
            provideLocationYN: $("#isChcked").val(),
          },
          error: function (request, status, error) {
            // 			console.log( "code:" + request.status+"\n\n\n\n" + "message:" + request.responseText+"\n\n\n\n" + "error:" + error );
          },
          success: function (result) {
            if (result == "SUCCESS") {
            }
          },
        });
      }

      function updatePush() {
        $.ajax({
          type: "POST",
          url: "/ko/mobilecommon/updatePush",
          datatype: "json",
          data: {
            CSRFToken: "09381261-9917-49a2-88a9-618bbf0ea7f0",
            pushCd: $("#pushCd").val(),
            pushVal: $("#pushVal").val(),
          },
          error: function (request, status, error) {
            // 			console.log( "code:" + request.status+"\n\n\n\n" + "message:" + request.responseText+"\n\n\n\n" + "error:" + error );
          },
          success: function (result) {
            if (result == "SUCCESS") {
            }
          },
        });
      }

      function AppCallLocation(result) {
        $("#isChcked").val(result);
        updateLocation();
      }

      function AppCallPushAll(result) {
        $("#pushCd").val("all");
        $("#pushVal").val(result);
        updatePush();
      }

      function AppCallPushOrder(result) {
        $("#pushCd").val("order");
        $("#pushVal").val(result);
        updatePush();
      }

      function AppCallPushEvent(result) {
        $("#pushCd").val("event");
        $("#pushVal").val(result);
        updatePush();
      }

      function AppCallPushBenefit(result) {
        $("#pushCd").val("benefit");
        $("#pushVal").val(result);
        updatePush();
      }

      function AppCallPushSilent(result) {
        $("#pushCd").val("silent");
        $("#pushVal").val(result);
        updatePush();
      }

      function gpsAllowAndroid() {
        // 가까운 매장순 탭 이동 및 리스트 호출
        if ("content1Page" == "hsProductDetailPage") {
          if (appYn == "Y") {
            Android.getLocation();

            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(0).addClass("on");
            setTimeout(function () {
              searchStore(1);
            }, 500);
          }
        } else if ("content1Page" == "content1Page") {
          if (appYn == "Y") {
            Android.getLocation();

            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(0).addClass("on");
            setTimeout(function () {
              searchStore(1);
            }, 500);
          }
        }
      }

      function gpsAlertExitAndroid() {
        // 재고 많은순 탭 선택
        if ("content1Page" == "hsProductDetailPage") {
          if (appYn == "Y") {
            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(1).addClass("on");
          }
        } else if ("content1Page" == "content1Page") {
          if (appYn == "Y") {
            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(1).addClass("on");
          }
        }
      }

      function gpsAlertOkAndroid() {
        // 재고 많은순 탭 선택
        if ("content1Page" == "hsProductDetailPage") {
          if (appYn == "Y") {
            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(1).addClass("on");
          }
        } else if ("content1Page" == "content1Page") {
          if (appYn == "Y") {
            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(1).addClass("on");
          }
        }
      }

      function gpsAlertExitIOS() {
        // 재고 많은순 탭 선택
        if ("content1Page" == "hsProductDetailPage") {
          if (appYn == "Y") {
            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(1).addClass("on");
          }
        } else if ("content1Page" == "content1Page") {
          if (appYn == "Y") {
            $(".sort_tab li").removeClass("on");
            $(".sort_tab li").eq(1).addClass("on");
          }
        }
      }

      function gpsSetOkIOS() {
        // 위치동의 여부 확인 후 (Y : 가까운 매장순 탭 이동 및 리스트 호출, N : 재고 많은순 탭 선택)
        if ("content1Page" == "hsProductDetailPage") {
          if (appYn == "Y") {
            webkit.messageHandlers.getLocation.postMessage("");

            setTimeout(function () {
              if (lat != 0 && lng != 0) {
                $(".sort_tab li").removeClass("on");
                $(".sort_tab li").eq(0).addClass("on");

                searchStore(1);
              }
            }, 500);
          }
        } else if ("content1Page" == "content1Page") {
          if (appYn == "Y") {
            webkit.messageHandlers.getLocation.postMessage("");

            setTimeout(function () {
              if (lat != 0 && lng != 0) {
                $(".sort_tab li").removeClass("on");
                $(".sort_tab li").eq(0).addClass("on");

                searchStore(1);
              }
            }, 500);
          }
        }
      }
    </script>

    <div
      class="divpop_wrap_dev pop_mbr pop_alert_confirm"
      id="popAlertConfirmDiv"
    ></div>

    <script>
      $("html").on(
        "scroll touchmove mousewheel",
        ".hold_body .sns_comment_ipt_pop .sns-comment-op",
        function (e) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      );

      $(document).ready(function () {
        $(".write_form_area .reply-write-line #comment").keyup(function (e) {
          var content = $(this).val();
          $(".reply_write_box #counter").html(content.length);
        });

        $(".sns_comment_pop #sns_commont_close").on("click", function () {
          $(".sns_comment_ipt_pop .reply-call-btn").removeClass("on");
          //         $('.sns_comment_ipt_pop .sns-comment-ipt').removeClass('active');
          $(".hsome_allContents_wrapper").css("display", "block");
          scrollHeightHistory(); //$(window).scrollTop(win_Scroll);
          $(".sns_comment_pop").scrollTop(0);

          $("body").removeClass("hidden");
        });

        $(".reply_write_box").on("focus", "textarea", putBlur);

        // 20200706 댓글 버튼 active 액션
        $(".sns_comment_ipt_pop").on(
          "click",
          ".reply-call-btn > button",
          function () {
            $(".sns_comment_ipt_pop .sns-comment-ipt").addClass("active");
            $(".reply-call-btn").removeClass("on");
            $(".sns-comment-ipt .reply_write_box #counter").html(0);
          }
        );

        $(".sns_comment_ipt_pop").on(
          "click",
          ".reply-close-btn  a",
          function (e) {
            var replu_None = $(
              ".sns_comment_ipt_pop .sns-comment-ipt .ipt-re-uploaded"
            ).hasClass("is-active");
            e.preventDefault();

            $(".sns_comment_ipt_pop .sns-comment-ipt").removeClass("active");
            $(".sns_comment_ipt_pop .reply-call-btn").addClass("on");

            if (replu_None == true) {
              $(
                ".sns_comment_ipt_pop .sns-comment-ipt .ipt-re-uploaded"
              ).removeClass("is-active");
            }
          }
        );

        function putBlur() {
          var $thisTextarea = $(this);
          $(".hsome_layer_popup").on("touchstart", function (e) {
            $thisTextarea.blur();
          });
        }
      });
    </script>

    <!-- 댓글// -->
    <div class="hsome_layer_popup hs_img_upload_pop">
      <div class="pop-comm-cnts">
        <div class="swiper-container">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img
                id="reply_view_img1"
                src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                alt=""
              />
            </div>
            <div class="swiper-slide">
              <img
                id="reply_view_img2"
                src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                alt=""
              />
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
      </div>
      <a
        href="javascript:void(0);"
        class="pop-comm-cls"
        onclick="closUploadPop()"
        >닫기</a
      >
    </div>

    <div class="hsome_layer_popup sns_comment_pop">
      <h2 class="pop-comm-ttl">댓글(<i id="replytotalCount"></i>)</h2>
      <div class="pop-comm-cnts">
        <!-- sns-comment-cnts | 댓글 리스트// -->
        <div class="sns-comment-cnts" id="sns_post_reply_contents"></div>
        <!-- //sns-comment-cnts | 댓글 리스트 -->
      </div>
      <a href="#" class="pop-comm-cls" id="sns_commont_close">닫기</a>
    </div>

    <div class="sns_comment_ipt_pop">
      <!-- reply btn -->
      <!-- //reply btn -->

      <!-- sns-comment-ipt | 댓글 입력 영역// -->
      <!-- <div class="sns-comment-op" style="cursor: pointer;"></div> -->
      <div class="sns-comment-ipt" style="display: none">
        <form
          id="postReplyCommentform"
          name="postReplyCommentform"
          method="POST"
          enctype="multipart/form-data"
        >
          <div class="write_form_area simple">
            <!--업로드 한 이미지가 있으면// -->
            <div class="ipt-uploaded" style="display: none">
              <span class="thumb" id="replyTempImg" style="display: none">
                <img
                  id="replyTempImgSrc"
                  src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                  alt=""
                />
                <a href="javascript:hideReplyTempImg();" class="del">삭제</a>
              </span>
              <span class="thumb" id="replyProductImg" style="display: none">
                <img
                  id="replyProductImgSrc"
                  src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                  alt=""
                />
                <a href="javascript:hideReplyProductImg();" class="del">삭제</a>
              </span>
            </div>
            <!--//업로드 한 이미지가 있으면 -->

            <div class="reply-close-btn">
              <a href="javascript:void(0);" onclick="closeReplyPop();">취소</a>
            </div>

            <div class="ipt-re-uploaded">
              <div class="re" style="display: none">
                <i></i>님에게 댓글 남기는 중
              </div>
              <div class="update" style="display: none">댓글 수정중입니다.</div>
              <!-- 	                <a href="javascript:;" class="re_close" onClick="closeReplyPop();">닫기</a> -->
            </div>

            <div class="reply-write-line" style="">
              <!-- 작성영역 -->
              <div class="reply_write_box">
                <textarea
                  name="comment"
                  id="comment"
                  cols="30"
                  rows="1"
                  placeholder="내용입력"
                  onblur="snsHideBottom();"
                ></textarea>
                <p class="byte_check">(<span id="counter">0</span>/300)</p>
              </div>
              <!-- //작성영역 -->

              <!-- btn -->
              <div class="reply-btn-box">
                <!--
                        // 이미지 업로드 시 etc_btn 클래스에 on 클래스 추가
                        -->
                <div class="reply_etc_btn_box">
                  <div class="etc_btn img on">
                    <i class="img"></i>
                    <span>이미지 등록</span>
                    <input
                      type="file"
                      name="replyAttachFilePath"
                      id="replyAttachFilePath"
                      onchange="readURL(this)"
                      onclick="GA_Event('스타일라이브_댓글', '이미지등록', '클릭');"
                      accept="image/*"
                    />
                  </div>
                  <div class="etc_btn prod">
                    <button
                      type="button"
                      id="origin_btn"
                      class="up"
                      onclick="getProductSearchPageInReply();GA_Event('스타일라이브_댓글', '상품검색', '클릭');"
                    >
                      <i class="prod"></i>
                      <span>상품찾기</span>
                    </button>
                    <button
                      id="new_btn"
                      style="display: none"
                      type="button"
                      class="up"
                      onclick="getProductSearchPageInReplyOnProductDetail();"
                    >
                      <i class="prod"></i>
                      <span>상품찾기</span>
                    </button>
                  </div>
                </div>
                <!-- //20200619 덧글 기타 버튼 영역 -->

                <!-- 등록버튼 -->
                <div class="reply_upload_btn_box">
                  <!-- button type="button" onClick ="postReplyCommentSubmit(event)" disabled="true">등록</button -->
                  <input type="hidden" name="snsPostId" id="snsPostId" />
                  <input type="hidden" name="replyLevel" id="replyLevel" />
                  <input type="hidden" name="replyOrder" id="replyOrder" />
                  <input type="hidden" name="productCode" id="productCode" />
                  <input
                    type="hidden"
                    name="attachFilePath"
                    id="attachFilePath"
                  />
                  <input type="hidden" name="deleteYn" id="deleteYn" />
                  <input
                    type="hidden"
                    name="parentCommentId"
                    id="parentCommentId"
                  />
                  <input type="hidden" name="commentId" id="commentId" />
                  <!--                     <button type="submit" disabled="true">등록</button> -->
                </div>
                <!-- //등록버튼 -->
              </div>
              <!-- //btn -->
            </div>
            <!-- 20200619 덧글 기타 버튼 영역 -->
          </div>
        </form>
      </div>
      <!-- //sns-comment-ipt | 댓글 입력 영역 -->
    </div>
    <!-- //댓글 -->

    <!-- 댓글신고 -->
    <div
      id="hs_pro_view_layer"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
      "
    ></div>
    <div class="hsome_layer_popup04 hs_sns_reply_report_pop">
      <h2 class="pop-comm-ttl">댓글 신고</h2>
      <div class="pop-comm-cnts">
        <div class="pop_report_cont">
          <div class="hs_border_select">
            <select id="reportDivision">
              <option value="notSelected">신고 사유</option>
              <option value="ADVERTIS">광고성 글입니다.</option>
              <option value="LEWDNESS">음란물입니다.</option>
              <option value="ABUSIVE">욕설/폭력/비방글입니다.</option>
              <option value="FALSE">허위 정보입니다.</option>
              <option value="INFRINGE">지적 재산권 침해한 글입니다</option>
              <option value="DUPLICATE">중복된 내용입니다.</option>
              <option value="ETC">기타</option>
            </select>
          </div>
          <div class="hs_default_input">
            <textarea
              class="clearInput_A"
              name=""
              id="reportEctReason"
              cols="30"
              rows="6"
              maxlength="300"
              placeholder="기타 사유 입력"
            ></textarea>
            <input type="hidden" id="reportPostId" name="reportPostId" />
            <input type="hidden" id="reportReplyId" name="reportReplyId" />
          </div>
          <p class="report_txt">댓글 삭제를 요청하시겠습니까?</p>
          <div class="hs_pop_btn_wrap mt_case">
            <button
              type="button"
              class="hs_white_comm_btn cancelbtn"
              onclick="javascript:replyReportClose()"
            >
              취소
            </button>
            <button
              id="reportBtn"
              type="button"
              onclick="javascript:replyReportSubmit()"
              class="hs_black_comm_btn"
            >
              확인
            </button>
          </div>
        </div>
      </div>
      <a class="pop-comm-cls" onclick="javascript:replyReportClose()">닫기</a>
    </div>
    <!-- //댓글신고 -->

    <script>
      //$("#new_btn").click(function(){ $(this).parents(".sns_comment_ipt_pop").siblings(".lp_depth1").css("z-index","1002"); });
    </script>
    <!-- 컬렉션에 담기// -->
    <div
      class="hsome_layer_popup02 hs_collection_put_pop"
      style="display: none"
    >
      <div class="pop-comm-cnts">
        <p class="tit">콜렉션에 담기</p>
        <div class="collection_put_wrap">
          <form
            id="collectionform"
            name="collectionform"
            data-ajax="false"
            action="javascript:addCollection()"
            method="POST"
          >
            <ul class="collection_list" id="collectionNameList"></ul>
            <!-- <p class="no_collection">생성된 콜렉션이 없습니다.</p> -->
            <div class="collection_input">
              <div class="inp">
                <input
                  type="text"
                  id="newCollectionName"
                  placeholder="새 콜렉션 이름"
                />
              </div>
              <div class="btn">
                <button
                  type="button"
                  class="hs_btm_btn black"
                  onclick="addCollection(event)"
                >
                  생성
                </button>
              </div>
            </div>
            <input
              type="hidden"
              name="inputCollectionPostId"
              id="inputCollectionPostId"
            />
            <input
              type="hidden"
              name="inputCollectionId"
              id="inputCollectionId"
            />
            <div>
              <input
                type="hidden"
                name="CSRFToken"
                value="09381261-9917-49a2-88a9-618bbf0ea7f0"
              />
            </div>
          </form>
        </div>
        <a href="" class="pop-comm-cls">닫기</a>
      </div>
    </div>
    <script>
      collectionform.action = "javascript:addCollection()";
    </script>
    <!-- //컬렉션에 담기 -->
    <!-- 좋아요 목록 팝업 -->
    <div class="hsome_layer_popup hs_sns_like_pop">
      <h2 class="pop-comm-ttl">
        <i class="like"></i>좋아요<span class="normal_txt">(10)</span>
      </h2>
      <div class="pop-comm-cnts">
        <div class="hs_sns_wrap">
          <ul class="hs_sns_member_list"></ul>
        </div>
      </div>
      <div id="paging" class="hs_paging mt30 mb30"></div>
      <a href="#" class="pop-comm-cls" onclick="closeLikePop();">닫기</a>
    </div>
    <!-- //좋아요 목록 팝업 --><!-- sns공유// -->
    <div class="hsome_layer_popup02 hs_share_pop" style="display: none">
      <div class="pop-comm-cnts pop-comm-cnts-2019">
        <p class="tit">공유하기</p>
        <div class="share_link">
          <a
            class="link"
            id="shareKakaotalk"
            onclick="javascript:noLink();GA_Event('상품_상세', '공유_SNS', 'KAKAOTALK');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo02.png"
              alt="kakao talk"
          /></a>
          <a
            class="link"
            id="shareUrl"
            data-clipboard-action="copy"
            data-clipboard-text=""
            onclick="GA_Event('상품_상세', '공유_SNS', 'COPYEURL');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo03.png"
              alt="url"
          /></a>
          <a
            class="link"
            id="shareFacebook"
            onclick="javascript:fnShareFacebook();GA_Event('상품_상세', '공유_SNS', 'FACEBOOK');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo04.png"
              alt="facebook"
          /></a>
          <a
            class="link"
            id="shareTwitter"
            onclick="javascript:fnShareTwitter();GA_Event('상품_상세', '공유_SNS', 'TWITTER');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo05.png"
              alt="twitter"
          /></a>
          <a
            class="link"
            id="sharePinterest"
            onclick="javascript:fnSharePinterest();GA_Event('상품_상세', '공유_SNS', 'PINTEREST');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo06.png"
              alt="pinterest"
          /></a>
        </div>
        <a href="#" class="pop-comm-cls">닫기</a>
      </div>
    </div>
    <input type="hidden" id="shareUrl" name="shareUrl" />
    <input type="hidden" id="shareKey" name="shareKey" />
    <input type="hidden" id="shareImgUrl" name="shareImgUrl" />
    <input type="hidden" id="shareTitle" name="shareTitle" />
    <input type="hidden" id="shareDetail" name="shareDetail" />

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/clipboard.min.js"
    ></script>
    <script type="text/javascript">
      //App, android 설정 및 공유하기를 위한 KAKAO를 init (init키는 부여받은 key를 넣어주어야 합니다.)
      $(document).ready(function () {
        if (getCookie("app") == "ios") {
          deviceName = "ios";
        } else if (getCookie("app") == "android") {
          deviceName = "android";
        } else {
          if (userAgent.search("android") > -1) {
            deviceName = "android";
          } else if (
            userAgent.search("iphone") > -1 ||
            userAgent.search("ipod") > -1 ||
            userAgent.search("ipad") > -1
          ) {
            deviceName = "ios";
          }
        }
        //테스트용 Key를 발급받으셔야 테스트 환경에서 카카오톡 공유하기를 할 수 있습니다. (development, staging, localhost 호스트 접속용)
        // 		Kakao.init('개발용key값');
        //TheHandsome.com 운영 Key 입니다. (www.thehandsome.com)
        // 		Kakao.init('65f184156e7c83b654f392eacf75c7ed');
        $.getScript("//developers.kakao.com/sdk/js/kakao.min.js", function () {
          if (typeof Kakao !== "undefined") {
            Kakao.init("65f184156e7c83b654f392eacf75c7ed");
            //                 Kakao.init('bdfad1be522c19504de903a0d357b855');  //test key
          }
        }).fail(function () {
          console.log("fail");
        });
      });

      //현재 페이지 정보 변수화
      var userAgent = navigator.userAgent.toLocaleLowerCase();

      // 모든 page에서 공유버튼을 누를시 -> initShareData를 다음과같이 호출하도록 한다. initShareData(url, PK, 이미지url, title, detail) 이때 url은 ex) /ko/hssearch/smartfilter?smartFilterPk= .. 으로 오도록 설정.
      function initShareData(
        shareUrl,
        shareKey,
        shareImgUrl,
        shareTitle,
        shareDetail
      ) {
        $(".hsome_layer_popup02.hs_share_pop").show();
        shareTitle = shareTitle.replace(/\&#039;/gi, "'");
        shareTitle = shareTitle.replace(/\&amp;/gi, "&");
        shareTitle = brTagReplace(shareTitle);
        if (shareDetail == undefined) {
          shareDetail = "";
        } else {
          shareDetail = shareDetail.replace(/\&amp;/gi, "&");
          shareDetail = shareDetail.replace(/\&#039;/gi, "'");
        }
        shareUrl =
          "/mobilecommon/hsGateway?page=" + encodeURIComponent(shareUrl);
        shareKey = shareKey.replace("?", "&");

        //공유하기 시 hsGateway 페이지를 모바일로 인식 시키기위해 붙임
        if (shareKey.indexOf("uiel=Mobile") == -1) {
          shareKey = shareKey + "&uiel=Mobile";
        }

        if (shareImgUrl.indexOf("_C01")) {
          shareImgUrl = shareImgUrl.replace("_C01", "_W01");
        }
        //console.log(" shareUrl :::: "+shareUrl+"\n shareKey :::: "+shareKey+"\n shareImgUrl :::: "+shareImgUrl+"\n shareTitle :::: "+shareTitle+"\n shareDetail ::::"+shareDetail)
        $("#shareUrl").val("https://www.thehandsome.com:443" + shareUrl);
        $("#shareKey").val(shareKey);
        $("#shareImgUrl").val(shareImgUrl);
        $("#shareTitle").val(shareTitle);
        $("#shareDetail").val(shareDetail);

        var sUrl = $("#shareUrl").val() + $("#shareKey").val();
        var textUrl = sUrl.replace("'", "%27");
        var clpbrd = new ClipboardJS("#shareUrl", {
          text: function (data) {
            return textUrl;
          },
        });
        clpbrd.on("success", function (e) {
          var la = new layerAlert("URL이 복사되었습니다.");
          e.clearSelection();
        });
        clpbrd.on("error", function (e) {
          console.log(e);
          var la = new layerAlert("URL이 복사되었습니다.");
        });

        var sUrl = $("#shareUrl").val() + $("#shareKey").val();
        var sImg = $("#shareImgUrl").val();
        var sTxt = $("#shareTitle").val();
        var sDes = $("#shareDetail").val();
        var url = sUrl.replace("'", "%27");

        Kakao.Link.createDefaultButton({
          container: "#shareKakaotalk",
          objectType: "feed",
          content: {
            title: sTxt,
            description: sDes,
            imageUrl: sImg,
            link: {
              mobileWebUrl: url,
              webUrl: url,
            },
            imageWidth: 282,
            imageHeight: 426,
          },
          buttons: [
            {
              title: "더보기",
              link: {
                mobileWebUrl: sUrl,
                webUrl: sUrl,
              },
            },
          ] /* ,
		     success: function(data) {
		    	 Kakao.Link.cleanup();
		     } */,
        });
      }

      // 	function fnShareKakaotalk(){
      // 		Kakao.Link.cleanup();
      // 	}

      function fnShareFacebook() {
        var sUrl = $("#shareUrl").val() + $("#shareKey").val();
        var sImg = $("#shareImgUrl").val();
        var sTxt = $("#shareTitle").val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, "&");
        var href =
          "http://www.facebook.com/sharer.php?u=" + encodeURIComponent(sUrl);
        var a = window.open(href, "facebook", "");
        if (a) {
          a.focus();
        }
      }
      function fnShareTwitter() {
        var sUrl = $("#shareUrl").val() + $("#shareKey").val();
        var sImg = $("#shareImgUrl").val();
        var sTxt = $("#shareTitle").val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, "&");

        var href =
          "http://twitter.com/share?url=" +
          encodeURIComponent(sUrl) +
          "&text=" +
          encodeURIComponent(sTxt);
        var a = window.open(href, "twitter", "");
        if (a) {
          a.focus();
        }
      }

      function fnSharePinterest() {
        var sUrl = $("#shareUrl").val() + $("#shareKey").val();
        var sImg = $("#shareImgUrl").val();
        var sTxt = $("#shareTitle").val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, "&");

        var href =
          "http://www.pinterest.com/pin/create/button/?url=" +
          sUrl +
          "&media=" +
          sImg +
          "&description=" +
          encodeURIComponent(sTxt);
        var a = window.open(href, "pinterest", "width=800, height=500");
        if (a) {
          a.focus();
        }
      }

      function fnShareHpoint() {
        var sUrl = $("#shareUrl").val() + $("#shareKey").val();
        var sImg = $("#shareImgUrl").val();
        var sTxt = $("#shareTitle").val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, "&");

        var isAndroid = navigator.userAgent.indexOf("Android") > -1;
        var isIOS =
          navigator.userAgent.indexOf("iPhone") > -1 ||
          navigator.userAgent.indexOf("iPad") > -1;

        //hpPoint 어플 기존에 hpShareUrl로 컨트롤러 영역에서 받도록 되어있는데, 현재 공통모듈로 설정되면서 어느부분에서 hpshareUrl를 설정해야하는지 의문
        var hpShareUrl = "hpoint://timeLineReg?writeGbcd=05";
        // 		var hpShareUrl = "";
        var customUrlScheme =
          hpShareUrl +
          "&linkUrl=" +
          encodeURIComponent(sUrl) +
          "&shrCntn=" +
          encodeURIComponent(sTxt) +
          "&shrImgUrl=" +
          encodeURIComponent(sImg);
        var storeURL = "";

        if (isAndroid) {
          storeURL = "market://details?id=kr.co.hpoint.hdgm";
          var visitedAt = new Date().getTime(); // 방문 시간

          if (getCookie("app") == "android") {
            var ifr = document.all["uriFrame"];
            if (ifr != null) {
              ifr.src =
                "intent:" +
                customUrlScheme +
                "#Intent;package=kr.co.hpoint.hdgm;end;"; // url : URL scheme(Custom scheme)
            }
          } else if (userAgent.match(/Chrome/)) {
            // 안드로이드의 크롬에서는 intent만 동작하기 때문에 intent로 호출해야함
            setTimeout(function () {
              location.href =
                "intent:" +
                customUrlScheme +
                "#Intent;package=kr.co.hpoint.hdgm;end;";
            }, 1000);
          } else {
            // 크롬 이외의 브라우저들
            setTimeout(function () {
              if (new Date().getTime() - visitedAt < 2000) {
                location.href = storeURL;
              }
            }, 500);

            var ifr = document.all["uriFrame"];
            if (ifr != null) {
              ifr.src = customUrlScheme; // url : URL scheme(Custom scheme)
            }
          }
        } else {
          storeURL =
            "https://itunes.apple.com/kr/app/h-point/id1255389331?l=ko&ls=1&mt=8";
          var visitedAt = new Date().getTime(); // 방문 시간

          setTimeout(function () {
            if (new Date().getTime() - visitedAt < 2000) {
              location.href = storeURL;
            }
          }, 500);

          setTimeout(function () {
            location.href = customUrlScheme;
          }, 0);
        }
      }

      function getCookie(cName) {
        cName = cName + "=";
        var cookieData = document.cookie;
        var start = cookieData.indexOf(cName);
        var cValue = "";
        if (start != -1) {
          start += cName.length;
          var end = cookieData.indexOf(";", start);
          if (end == -1) end = cookieData.length;
          cValue = cookieData.substring(start, end);
        }
        return unescape(cValue);
      }

      function isSafariBrowser() {
        var isSafari = navigator.userAgent.toLowerCase().indexOf("safari") > -1;
        var isChrome = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
        if (isSafari == true) {
          if (isChrome == true) {
            isSafari = false;
          }
        }

        return (
          Object.prototype.toString
            .call(window.HTMLElement)
            .indexOf("Constructor") > 0 || isSafari
        );
      }

      function brTagReplace(stringVal) {
        stringVal = stringVal.replace(/<br>/gi, " ");
        stringVal = stringVal.replace(/<\/br>/gi, " ");
        stringVal = stringVal.replace(/<br\/>/gi, " ");
        stringVal = stringVal.replace(/&lt;br&gt;/gi, " ");
        stringVal = stringVal.replace(/&lt;\/br&gt;/gi, " ");
        stringVal = stringVal.replace(/&lt;br\/&gt;/gi, " ");

        return stringVal;
      }
    </script>
    <!-- //sns공유 -->
    <!-- loading_layerpop s -->
    <!-- layerpop_wrap | 처리중 s -->
    <div class="layerpop_wrap loading_layer_wrap">
      <!-- layerpop_middle s -->
      <div class="lyrpp_mid">
        <div class="loading_box"></div>
      </div>
      <!-- layerpop_middle e -->
    </div>
    <!-- layerpop_wrap | 처리중 e -->

    <!-- 스타일라이브 팝업 20211001 S -->

    <!-- 이미 참여하셨습니다. S -->
    <div
      class="stlv-mob-stlv-20211001--popup already-participated"
      style="display: none"
    >
      <div class="stlv-mob-stlv-20211001--contents">
        <img
          src="http://cdn.thehandsome.com/mobile/promotion/handsome_202109/stlv_mob_modal_01.jpg"
          alt=""
        />
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--link1"
          href="/ko/mypage/voucher"
          >나의 쿠폰함</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed1"
          href="javascript:void(0);"
          >닫기</a
        >
      </div>
    </div>
    <!-- 이미 참여하셨습니다. E -->

    <!-- 대상이 아닙니다 S -->
    <div
      class="stlv-mob-stlv-20211001--popup not-a-valid-participant"
      style="display: none"
    >
      <div class="stlv-mob-stlv-20211001--contents">
        <img
          src="http://cdn.thehandsome.com/mobile/promotion/handsome_202109/stlv_mob_modal_02_1.jpg"
          alt=""
        />
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed1"
          href="javascript:void(0);"
          >닫기</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--link2"
          href="https://www.h-point.co.kr/cu/join/start.nhd?prtnrId=D080&amp;chnnlId=1705"
          >통합회원 가입</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed2"
          href="javascript:void(0);"
          >닫기</a
        >
      </div>
    </div>
    <!-- 대상이 아닙니다 E -->

    <!-- 참여해주셔서 감사합니다 S -->
    <div
      class="stlv-mob-stlv-20211001--popup thanks-to-participate"
      style="display: none"
    >
      <div class="stlv-mob-stlv-20211001--contents">
        <img
          src="http://cdn.thehandsome.com/mobile/promotion/handsome_202109/stlv_mob_modal_03.jpg"
          alt=""
        />
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--link3"
          href="/ko/mypage/voucher"
          >나의 쿠폰함</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed3"
          href="javascript:void(0);"
          >닫기</a
        >
      </div>
    </div>
    <!-- 참여해주셔서 감사합니다 E -->

    <script>
      $(document).ready(function () {
        // 모달 닫기
        $(
          ".stlv-mob-stlv-20211001--closed1, .stlv-mob-stlv-20211001--closed2, .stlv-mob-stlv-20211001--closed3"
        ).on("click", function () {
          $(".stlv-mob-stlv-20211001--popup").css("display", "none");
          setTimeout(function () {
            $(".hsome_quickMenu").removeClass("active");
            //작성 후 메인으로 이동한 뒤 포스트 팝업을 위한 쿠키값 셋팅
            setCookie("isWriteAfter", "Y", 1);
            location.href = "/ko/sns/main?isWriteAfter=true";
            hideLoadingLp();
          }, 1000);
        });
      });
    </script>

    <!-- 스타일라이브 팝업 20211001 E -->

    <!-- 결제시도시 처리중 layper 별도 표시 200217 nih -->
    <div
      class="pop_loading_oneclick200210_wrap"
      style="
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9998;
        display: none;
      "
    >
      <div
        class="pop_loading_oneclick200210"
        style="
          background: #222;
          width: 90%;
          height: 120px;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate3d(-50%, -50%, 0);
          z-index: 9999;
        "
      >
        <img
          src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/common/Spinner_1s_105px.png"
          alt="loading"
          style="
            display: block;
            width: 32px;
            height: 32px;
            margin: 30px auto 15px auto;
          "
        />
        <p style="color: #fff; text-align: center">
          <span style="color: #fff; font-size: 15px">처리중입니다.</span>
        </p>
      </div>
    </div>

    <!-- layerpop_wrap | 이미지 업로드 처리중 sns별도사용 s -->
    <div class="layerpop_wrap loading_layer_wrap2004" style="display: none">
      <!-- layerpop_middle s -->
      <div class="lyrpp_mid">
        <div class="loading_box2004">
          <img
            src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/common/Spinner_1s_105px.png"
            alt="loading_bar"
          />
          <p class="loading_txt">이미지가 업로드 중입니다.</p>
        </div>
      </div>
      <!-- layerpop_middle e -->
    </div>
    <!-- layerpop_wrap | 이미지 업로드 처리중 sns별도사용e -->
    <!-- layerpop_wrap | 유사상품 처리중 별도사용 s -->
    <div class="layerpop_wrap loading_rel_layer_wrap" style="display: none">
      <!-- layerpop_middle s -->
      <div class="lyrpp_mid">
        <div class="loading_box"></div>
      </div>
      <!-- layerpop_middle e -->
    </div>
    <!-- layerpop_wrap | 유사상품 처리중 별도사용 e -->

    <!-- loading_layerpop e -->
    <!-- hsome_layer_menu_contents | 레이어팝업메뉴 컨텐츠 영역 e -->
    <!-- layerpopupContent e -->
    <form
      id="chatbotForm"
      action="https://talk.thehandsome.com/front/v1/jsp/view/chat.jsp"
      method="post"
      target="chatwindow"
    >
      <input type="hidden" name="token" id="chatbot_token" />
      <input type="hidden" name="talkId" id="chatbot_talkId" />
      <div>
        <input
          type="hidden"
          name="CSRFToken"
          value="09381261-9917-49a2-88a9-618bbf0ea7f0"
        />
      </div>
    </form>
    <input type="hidden" name="isChcked" id="isChcked" value="" />
    <input type="hidden" name="pushCd" id="pushCd" value="" />
    <input type="hidden" name="pushVal" id="pushVal" value="" />
    <!-- Google 리마케팅 태그 코드 -->
    <script type="text/javascript">
      /* <![CDATA[ */
      var google_conversion_id = 943253288;
      var google_custom_params = window.google_tag_params;
      var google_remarketing_only = true;
      /* ]]> */
    </script>
    <script
      type="text/javascript"
      src="//www.googleadservices.com/pagead/conversion.js"
    ></script>
    <iframe
      name="google_cookie_match_frame"
      title="Google cookie match frame"
      width="1"
      height="1"
      src="https://bid.g.doubleclick.net/xbbe/pixel?d=KAE"
      frameborder="0"
      marginwidth="0"
      marginheight="0"
      vspace="0"
      hspace="0"
      allowtransparency="true"
      style="display: none"
      scrolling="no"
    ></iframe>
    <noscript>
      <div style="display: inline">
        <img
          height="1"
          width="1"
          style="border-style: none"
          alt=""
          src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/943253288/?value=0&amp;guid=ON&amp;script=0"
        />
      </div>
    </noscript>

    <!-- 버츄 사이즈 공통스크립트 -->
    <script type="text/javascript">
      var virtusizeViewYn = false;

      virtusizeViewYn = true;

      if (virtusizeViewYn) {
      }
    </script>
    <!-- 버츄 사이즈 공통스크립트 -->

    <!-- // 택배사 선택 팝업 -->
    <!-- 앱 유도 팝업 -->
    <div class="app_pop200303" style="display: none">
      <p class="app_top_txt">
        <img
          src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/common/txt_apphs01_200303.png"
          alt=""
        />
      </p>
      <div class="appbox">
        <div class="appbox_con">
          <img src="" alt="" />
        </div>
        <img
          class="apphs"
          src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/common/img_apphs_200303.png"
          alt=""
        />
      </div>
      <p class="app_coupon_txt">
        <img
          src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/common/txt_apphs02_200330.png"
          alt=""
        />
      </p>
      <a class="appbtns" href="javascript:appUseCheck();"
        ><img
          src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/common/btn_apphs_ph200303.gif"
          alt=""
      /></a>
      <a class="no_appbtns" href="javascript:mobileWebView();"
        ><img
          src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/common/txt_apphs03_200303.png"
          alt=""
      /></a>
    </div>
    <!-- // 앱 유도 팝업 -->
    <!-- // 팝업 -->

    <div
      id="mainPopwrap1908"
      style="
        position: absolute;
        top: 50%;
        left: 50%;
        width: 90%;
        transform: translate(-50%, -50%);
        z-index: 999;
      "
    ></div>
    <div class="noti_popup190906_dim" style="display: none"></div>
    <div
      class="b-modal __b-popup1__"
      style="
        background-color: rgb(0, 0, 0);
        position: fixed;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        opacity: 0.5;
        z-index: 9998;
        display: none;
      "
    ></div>
    <div
      class="b-modal __b-apppopup1__"
      style="
        background-color: rgb(0, 0, 0 / 0%);
        position: fixed;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        opacity: 0.5;
        z-index: 9998;
        display: none;
      "
    ></div>

    <iframe id="f" style="display: none"></iframe>
    <!-- GTM 추적코드 추가 -->
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-KSHFVVQ"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Beusable(뷰저블 코드) : s -->
    <!-- Beusable(뷰저블 코드) : e -->

    <!-- 네이버 애널리틱스 공통 적용 : s -->
    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
    <script type="text/javascript">
      if (!wcs_add) var wcs_add = {};
      wcs_add["wa"] = "5c81384bbc8d5c";
      if (window.wcs) {
        wcs_do();
      }
    </script>
    <!-- 네이버 애널리틱스 공통 적용 : e -->
    <!-- 네이버 애널리틱스 공통 적용(프리미엄로그분석) : s -->
    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
    <script type="text/javascript">
      if (!wcs_add) var wcs_add = {};
      wcs_add["wa"] = "s_56892c2154ef";

      if (!_nasa) var _nasa = {};
      wcs.inflow("thehandsome.com");
      wcs_do(_nasa);
    </script>
    <!-- 네이버 애널리틱스 공통 적용(프리미엄로그분석) : e -->
    <!-- Enliple Tracker Start -->
    <script type="text/javascript">
      try {
        (function (a, g, e, n, t) {
          a.enp =
            a.enp ||
            function () {
              (a.enp.q = a.enp.q || []).push(arguments);
            };
          n = g.createElement(e);
          n.async = !0;
          n.defer = !0;
          n.src =
            "https://cdn.megadata.co.kr/dist/prod/enp_tracker_self_hosted.min.js";
          t = g.getElementsByTagName(e)[0];
          t.parentNode.insertBefore(n, t);
        })(window, document, "script");
        enp("create", "common", "thehandsome", { device: "M" }); // W:웹, M: 모바일, B: 반응형
        enp("send", "common", "thehandsome");
      } catch (e) {
        console.log(e);
      }
    </script>
    <!-- Enliple Tracker End -->

    <script language="javascript" type="text/javascript">
      var birthday = "Tue Jul 11 00:00:00 UTC 1995";
      var splitBirthday = birthday.split(" ");
      var AceAge = "";
      if (splitBirthday.length == 6) {
        var AceDate = new Date();
        AceAge = AceDate.getFullYear() - splitBirthday[5] + 1;
      } else {
        AceAge = 0;
      }
      var _ag = AceAge;
      var _id = "qndjd711@gmail.com";
      var _mr = "";
      var _gd = "woman";
      var _ud1 = "2"; // 사용자 정의변수 1 ( 1 ~ 10 정수값)
    </script>
    <!-- AceCounter END -->
    <!-- AceCounter Log Gathering Script V.7.5.2013010701 -->
    <script language="javascript">
      var _AceGID = (function () {
        var Inf = [
          "dgc17.acecounter.com",
          "8080",
          "AP6F40149814536",
          "CW",
          "0",
          "NaPm,Ncisy",
          "ALL",
          "0",
        ];
        var _CI = !_AceGID ? [] : _AceGID.val;
        var _N = 0;
        var _T = new Image(0, 0);
        if (_CI.join(".").indexOf(Inf[3]) < 0) {
          _T.src =
            (location.protocol == "https:"
              ? "https://" + Inf[0]
              : "http://" + Inf[0] + ":" + Inf[1]) + "/?cookie";
          _CI.push(Inf);
          _N = _CI.length;
        }
        return { o: _N, val: _CI };
      })();
      var _AceCounter = (function () {
        var G = _AceGID;
        if (G.o != 0) {
          var _A = G.val[G.o - 1];
          var _G = _A[0].substr(0, _A[0].indexOf("."));
          var _C = _A[7] != "0" ? _A[2] : _A[3];
          var _U = _A[5].replace(/\,/g, "_");
          var _S = ["<scr", "ipt", 'type="text/javascr', 'ipt"></scr', "ipt>"]
            .join("")
            .replace(
              "tt",
              't src="' +
                location.protocol +
                "//cr.acecounter.com/Web/AceCounter_" +
                _C +
                ".js?gc=" +
                _A[2] +
                "&py=" +
                _A[4] +
                "&gd=" +
                _G +
                "&gp=" +
                _A[1] +
                "&up=" +
                _U +
                "&rd=" +
                new Date().getTime() +
                '" t'
            );
          document.writeln(_S);
          return _S;
        }
      })();
    </script>
    <script
      src="https://cr.acecounter.com/Web/AceCounter_CW.js?gc=AP6F40149814536&amp;py=0&amp;gd=dgc17&amp;gp=8080&amp;up=NaPm_Ncisy&amp;rd=1675075465551"
      type="text/javascript"
    ></script>

    <noscript
      ><img
        src="http://dgc17.acecounter.com:8080/?uid=AP6F40149814536&je=n&"
        border="0"
        width="0"
        height="0"
        alt=""
    /></noscript>
    <!-- AceCounter Log Gathering Script End -->

    <!-- Mobile Smart Banner for Anroid Device -->
    <script defer="defer">
      var appDownPopContentHtml = "";
      $(document).ready(function () {
        if ("N" == "N") {
          var linkGateway = window.sessionStorage.getItem("linkGateway");
          var mobileWebView = getCookie("mobileWebView");
          if (mobileWebView == "" && linkGateway == "Y") {
            appDownPopContentHtml += '<div class="app-down-popup-wrap">';
            appDownPopContentHtml += '	<div class="app-down-popup-box">';
            appDownPopContentHtml += '		<div class="ad-guide">';
            appDownPopContentHtml +=
              '			<i class="logo"><img src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/popup/apppop_logo.png" alt="HAND SOME"></i>';
            appDownPopContentHtml += '			<P class="con">';
            appDownPopContentHtml += "				더한섬닷컴 앱으로<br>";
            appDownPopContentHtml += "				첫 구매 시<br>";
            appDownPopContentHtml += "				<strong>3만원 쿠폰</strong> 증정";
            appDownPopContentHtml += "			</P>";
            appDownPopContentHtml += "		</div>";
            appDownPopContentHtml +=
              '		<div class="btn"><a href="javascript:appUseCheck();"><span>앱 설치하고 쿠폰 받기</span><i class="icon"></i></a></div>';
            appDownPopContentHtml +=
              '		<a class="web-quick">모바일 웹으로 보기</a>';
            appDownPopContentHtml += "	</div>";
            appDownPopContentHtml += "</div>";

            $(".b-modal.__b-popup1__").show();
            $(".hsome_allContents_wrapper").after(appDownPopContentHtml);
            window.sessionStorage.removeItem("linkGateway");
          }

          $(".app-down-popup-wrap").on("click", ".web-quick", function () {
            var $popupWrap = $(this).parents(".app-down-popup-wrap");
            $popupWrap.hide();

            $(".b-modal.__b-popup1__").hide();
            if ($(".hsome_quickMenu").length == 0) {
              if (appDownPopContentHtml != "") {
                holdBodyHide();
              }
            }
            // 					window.sessionStorage.removeItem("linkGateway");
            // 					setMobileWebViewCookie("mobileWebView", "Y", 1);
          });
        } else {
          $.ajax({
            url: "/ko/common/checkFirstAppIssueYn",
            type: "get",
            dataType: "json",
            success: function (result) {
              if (result) {
                $.ajax({
                  url: "/ko/common/checkAppBuyYn",
                  type: "get",
                  dataType: "json",
                  success: function (result) {},
                  error: function (e) {},
                });
              }
            },
            error: function (e) {},
          });
        }

        var tempDate = "2022/09/16 10:00:00";
        if (location.href.indexOf("www.thehandsome.com") == -1) {
          //test
          tempDate = "2022/09/06 10:00:00";
        }

        var todayDate = new Date();
        var startDate = new Date(tempDate),
          endDate = new Date("2022/09/22 23:59:59");
        if (
          todayDate.getTime() >= startDate.getTime() &&
          todayDate.getTime() <= endDate.getTime()
        ) {
          // 노출페이지 : 정상/아울렛 상품상세페이지, 기획전 (상세), 더매거진(상세)
          var uid = "content1Page";

          var chkPage = [
            "hsProductDetailPage",
            "editorialDetailPage",
            "productList",
          ];
          var target_url = document.location.href;

          if (getCookie("mapleEventPopup") != todayDate.getDate()) {
            if (
              chkPage.indexOf(uid) > -1 ||
              target_url.indexOf("/magazine/exhibitions/") > -1
            ) {
              $.ajax({
                url: "/ko/magazine/getLeavesEventRandom",
                type: "get",
                dataType: "json",
                data: { pk: "8804481881984", tdate: "" },
                success: function (data) {
                  // 		                        console.log(data);

                  if (data != "11") {
                    var leafType = "leaf_01";
                    if (
                      data == "1" ||
                      data == "2" ||
                      data == "3" ||
                      data == "4"
                    ) {
                      leafType = "leaf_01";
                    } else if (data == "5" || data == "6" || data == "7") {
                      leafType = "leaf_03";
                    } else if (data == "8" || data == "9" || data == "10") {
                      leafType = "leaf_02";
                    }

                    var innerHtml = '<div class="evt_minipop_maple">';
                    innerHtml +=
                      '    <div class="blsmflw1 ' +
                      leafType +
                      '" onclick="javascript:setPlayLeaves(' +
                      data +
                      ')">';
                    innerHtml += "        <a></a>";
                    innerHtml += "        <span>행운의 단풍잎 줍기!</span>";
                    innerHtml += "    </div>";
                    innerHtml +=
                      '    <div class="today_close" style="position:absolute;bottom:-4.133vw;left:0px;width:100%;">';
                    innerHtml +=
                      '        <label for="justDay1" style="cursor:pointer;color:#000;letter-spacing:-.5px;font-size:2.933vw">오늘 하루 보지 않기</label>';
                    innerHtml +=
                      '        <input id="justDay1" type="checkbox" name="day_close" value="오늘 하루 보지 않기" style="display:none">';
                    innerHtml +=
                      '        <a href="javascript:mapleEvtPopClose()" alt="닫기" style="background:url(\'http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/desktop/common/images/common/btn_close.png\') no-repeat; background-size: cover; display:block; position:absolute; bottom:2.5px; right:3px; width:3.067vw; height:3.067vw; z-index:2;">&nbsp;</a>';
                    innerHtml += "    </div>";
                    innerHtml += "</div>";

                    $(".hsome_allContents_wrapper").before(innerHtml);
                  }
                },
                error: function (e) {
                  //
                },
              });
            }
          }
        }
      });

      $(window).load(function () {
        if ($(".hsome_quickMenu").length == 0) {
          if (appDownPopContentHtml != "") {
            holdBodyShow();
          }
        }
      });

      function appUseCheck() {
        var userAgent = navigator.userAgent.toLocaleLowerCase();
        var url =
          "https://www.thehandsome.com:443/ko/mypage/memberSecessionStep2";
        var openAt = new Date().getTime(); // 방문 시간
        var customUrlScheme = "page?url=" + encodeURIComponent(url);

        if (userAgent.match(/android/)) {
          if (userAgent.match(/chrome/)) {
            // 				location.href = "intent://"+customUrlScheme+"#Intent;scheme=thehandsome;package=com.handsome.thehandsome;end";
            location.href =
              "https://play.google.com/store/apps/details?id=com.handsome.thehandsome";
          } else {
            setTimeout(function () {
              if (new Date().getTime() - openAt < 2500) {
                location.href =
                  "https://play.google.com/store/apps/details?id=com.handsome.thehandsome";
              }
            }, 2000);

            var iframe = document.createElement("iframe");
            iframe.style.visibility = "hidden";
            iframe.src = customUrlScheme;
            document.body.appendChild(iframe);
            document.body.removeChild(iframe);
          }
        } else {
          // 			customUrlScheme = "thehandsome://page?url="+encodeURIComponent(url);
          // 			var visitedAt = +new Date;
          // 			checkAppTimer = setTimeout(function() {
          // 				if (+new Date - visitedAt < 2500) {
          // 					location.href = "https://itunes.apple.com/kr/app/itunes-connect/id1072288949?mt=8";
          // 				}
          // 			}, 2000);

          //			location.href = "thehandsome://" + customUrlScheme;
          //			location.href = "http://thehandsome.com/" + customUrlScheme;
          //			location.href = "https://demo.newfrom.net/" + customUrlScheme;

          //			location.href = "https://demo.newfrom.net/thehandsome_ios.html" + customUrlScheme;
          // 			location.href = customUrlScheme;
          // 			window.setTimeout(function () {
          window.location.replace(
            document.head.querySelector("[name=fallbackUrl]").content
          );
          // 			}, 3000);

          //			location.href = "http://thehandsome.com/intro/appLink" + customUrlScheme;
          //			location.href = "http://development.thehandsome.comhttp://www.thehandsome.com/_ui/appLink.html" + customUrlScheme;
          //			location.href = "https://newmedia.thehandsome.com/appLink.html" + customUrlScheme;
        }
      }

      function executeAppOrGoStore() {
        var openAt = new Date(),
          uagentLow = navigator.userAgent.toLocaleLowerCase(),
          chrome25,
          kitkatWebview;

        setTimeout(function () {
          if (new Date() - openAt < 4000) {
            if (uagentLow.search("android") > -1) {
              location.href =
                "https://play.google.com/store/apps/details?id=com.handsome.thehandsome";
            } else if (uagentLow.search("iphone") > -1) {
              location.replace(
                "https://itunes.apple.com/kr/app/itunes-connect/id1072288949?mt=8"
              );
            }
          }
        }, 1000);

        if (uagentLow.search("android") > -1) {
          document.location.href = "thehandsometransfer://applink?version=1.1";
        } else if (uagentLow.search("iphone") > -1) {
          var isSafari =
            navigator.userAgent.toLowerCase().indexOf("safari") > -1;
          var isChrome =
            navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
          if (isSafari) {
            if (isChrome) {
              isSafari = false;
            } else {
              if (navigator.userAgent.toLowerCase().indexOf("crios") > -1) {
                isSafari = false;
              }
            }
          }

          if (isSafari) {
            location.replace("thehandsomePayment://1072288949");
          } else {
            document.location.href = "thehandsomePayment://1072288949";
          }
        }
      }

      function mobileWebView() {
        //$(".app_pop200303").hide();
        //$(".noti_popup190906_dim").hide();
        $(".b-modal.__b-popup1__").hide();
        if ($(".hsome_quickMenu").length == 0) {
          if (appDownPopContentHtml != "") {
            holdBodyHide();
          }
        }
        setMobileWebViewCookie("mobileWebView", "Y", 1);
      }

      //쿠키 생성
      function setExternalCookie(cName, cValue, cDay) {
        var currentDate = new Date();
        var expire = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth(),
          currentDate.getDate() + cDay,
          0,
          0,
          0
        );
        cookies = cName + "=" + escape(cValue) + "; path=/ ";
        if (typeof cDay != "undefined")
          cookies += ";expires=" + expire.toGMTString() + ";";
        document.cookie = cookies;
      }

      //쿠키 생성
      function setMobileWebViewCookie(cName, cValue, cDay) {
        var currentDate = new Date();
        var expire = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth(),
          currentDate.getDate() + cDay,
          0,
          0,
          0
        );
        cookies = cName + "=" + escape(cValue) + "; path=/ ";
        if (typeof cDay != "undefined")
          cookies += ";expires=" + expire.toGMTString() + ";";
        document.cookie = cookies;
      }

      // 현재 정보 가져오기
      function getCurrentlyInfo() {
        $.ajax({
          url: "/ko/intro/getCurrentlyInfo",
          dataType: "json",
          type: "get",
          cache: false,
          dataType: "json",
          contentType: "application/json",
          success: function (data) {
            // 장바구니
            $(".h_gnbMenu > .cart i").html(data.cartCount);
            // 푸터 로그인
            if ("Y" == data.loginYn) {
              // 로그인
              if ($(".login").length > 0) {
                for (var i = 0; i < $(".login").length; i++) {
                  $(".login")
                    .parent()
                    .eq(i)
                    .html(
                      '<a href="javascript:ftLogout();" class="login" style="float:left;" onclick="GA_Event(\'공통\', \'푸터_메뉴\', \'로그아웃\');">로그아웃<!-- 로그아웃 --></a>'
                    );
                }
              }

              if ("mobileMain201908Page" == "memberSecessionStep2") {
                // 메인
                // 챗봇
                var v_html = "<ul>";
                v_html +=
                  '<li id="chatbot" class="chatbot"><a href="#;" onclick="callChatbot();GA_Event(\'공통\', \'퀵버튼\', \'챗봇\');">하니톡</a></li>';
                v_html += "</ul>";
                v_html +=
                  '<div class="fix_b_btn" style="display:block">&nbsp;</div>';
                v_html +=
                  "<div class=\"top_btn\" onclick=\"javascript:goToTop();GA_Event('공통', '퀵버튼', 'TOP');\">맨 위로</div>";
                $(".main1909_fix_b_btn_wrap").html(v_html);

                if ("Y" == data.vipYn) {
                  $("#chatbot").show();
                  $(".main1909_fix_b_btn_wrap .fix_b_btn").show();
                } else {
                  var hour = new Date().format("HHmm");
                  var weekName = new Date().format("E");

                  if (
                    weekName != "일요일" &&
                    weekName != "토요일" &&
                    hour >= "0900" &&
                    hour <= "1800"
                  ) {
                    //일반
                    $.ajax({
                      type: "POST",
                      url: "/ko/chatbot/chkholiday",
                      data: {
                        CSRFToken: "09381261-9917-49a2-88a9-618bbf0ea7f0",
                      },
                      async: false,
                      success: function (result) {
                        if (result == false) {
                          //일반 : CREW, FRIEND, 간편회원일경우, 공휴일 체크
                          $(".main1909_fix_b_btn_wrap .fix_b_btn").hide();
                          $("#chatbot").hide();
                        } else {
                          $("#chatbot").show();
                          $(".main1909_fix_b_btn_wrap .fix_b_btn").show();
                        }
                      },
                      error: function (request, statuss, error) {
                        console.log(e);
                      },
                    });
                  } else {
                    $(".main1909_fix_b_btn_wrap .fix_b_btn").hide();
                    $("#chatbot").hide();
                  }
                }
                // 하니톡 플러스버튼
                $(".main1909_fix_b_btn_wrap .fix_b_btn").click(function () {
                  $(".main1909_fix_b_btn_wrap ul").toggleClass("active");
                  $(".main1909_fix_b_btn_wrap .fix_b_btn").toggleClass("spin");
                });
              }
            } else {
              // 로그아웃
              if ($(".login").length > 0) {
                for (var i = 0; i < $(".login").length; i++) {
                  $(".login")
                    .parent()
                    .eq(i)
                    .html(
                      '<a href="/ko/member/login" class="login" style="float:left;" onclick="GA_Event(\'공통\', \'푸터_메뉴\', \'로그인\');">로그인<!--로그인--></a>'
                    );
                }
              }
            }
          },
          error: function (e) {
            console.log(e);
          },
        });
      }

      function setCategoryNameInKO(targetCateCode, defaultCateName) {
        var cates =
          "AS|잡화^AS011|부츠^AS012|로퍼/블로퍼^AS013|스니커즈^AS014|플랫^AS015|힐/슬링백^AS016|샌들/슬라이드^AS017|기타 슈즈^AS02|남성슈즈^AS021|부츠^AS022|포멀슈즈^AS023|스니커즈^AS024|샌들/슬라이드^AS025|기타 슈즈^AS03|여성백^AS031|토트백^AS032|숄더/크로스바디백^AS033|클러치 백^AS034|기타 백^AS041|토트백^AS042|숄더/크로스바디백^AS043|클러치 백^AS044|기타 백^AS051|머플러^AS052|스카프^AS061|이어링/커프^AS062|목걸이^AS063|팔찌^AS064|반지^AS065|기타 주얼리^AS071|모자^AS072|양말^AS073|장갑^AS074|벨트^AS075|지갑^AS076|헤어ACC^AS077|테크ACC^AS078|기타소품^BE011|토너/에멀전/크림^BE012|세럼/앰플/오일/밤^BE013|클렌징/스크럽/마스크^BE021|페이스 메이크업^BE023|립 메이크업^BE031|핸드·바디로션/크림/오일^BE032|핸드·바디워시/스크럽^BE033|샴푸/컨디셔너^BE034|트리트먼트/오일/스프레이^BE035|기타 바디/헤어케어^BE041|향수^EG02|감사^GF011|아우터^GF012|가디건/베스트^GF013|탑^GF014|스커트/원피스^GF015|팬츠^GF021|아우터^GF022|베스트^GF023|탑^GF024|팬츠^GF031|골프백^GF032|골프화^GF033|모자^GF034|장갑^GF035|양말^GF036|벨트^GF037|기타^LS011|패브릭^LS012|프래그런스^LS013|데코레이션^LS014|기타소품^LS022|욕실용품^LS031|그릇^LS032|보드/트레이^LS033|커트러리^LS034|커피/티^LS035|패브릭/냅킨^LS036|기타소품^LS041|문구^LS042|책^LS043|기타소품^LS051|패션^LS061|의류^LS062|잡화^ME011|티셔츠^ME012|셔츠^ME013|니트^ME014|스웨터^ME015|가디건/베스트^ME021|루즈/테이퍼드^ME022|데님^ME023|쇼츠^ME025|슬림/스트레이트^ME028|조거/트랙^ME031|재킷^ME032|점퍼^ME033|트렌치코트^ME034|코트^ME035|다운/패딩^ME041|드레스셔츠^ME042|수트재킷^ME044|수트팬츠^ME093|SYSTEM HOMME : TYPE 2^ME095|TIME HOMME : ONLINE EXCLUSIVE^WE011|티셔츠^WE012|블라우스^WE013|셔츠^WE014|니트^WE015|가디건/베스트^WE021|캐주얼^WE022|포멀^WE023|데님^WE024|쇼츠^WE031|미니 스커트^WE032|펜슬 스커트^WE033|플레어 스커트^WE034|롱/맥시 스커트^WE041|미니 드레스^WE042|미디 드레스^WE043|롱/맥시 드레스^WE051|재킷^WE052|점퍼^WE053|트렌치 코트^WE054|코트^WE055|다운/패딩^WE091|OBZEE : ICONIC OBZEE^WE092|TIME : SIGNATURE SUIT^WE095|FOURM THE STORE: EXCLUSIVE^WE096|FOURM STUDIO : RE:STUDIO^WE098|SYSTEM : PARIS PRESENTATION^WE09F|SYSTEM : 한국타이어 COLLABORATION^WE09N|SJSJ : Wheat Capsule^WE09Q|LATT : VISIONARY COLLECTION^WE09S|SYSTEM : MODULAR COMFORT^WE102|점퍼/가디건^WE103|베스트^WE106|스커트"; //WE011|티셔츠^WE012|블라우스^...
        var cateArr = null;
        var returnCateName = "";
        if (targetCateCode != "") {
          if (cates != "") {
            cateArr = cates.split("^");
            if (cateArr.length > 0) {
              $(cateArr).each(function (idx) {
                if (cateArr[idx] != "") {
                  // WE011|티셔츠
                  var compareCate = cateArr[idx].split("|");
                  if (compareCate.length == 2) {
                    // code | name
                    var compareCateCode = compareCate[0]; //WE011
                    if (
                      compareCateCode.toUpperCase() ==
                      targetCateCode.toUpperCase()
                    ) {
                      returnCateName = compareCate[1]; //티셔츠
                    }
                  }
                }
              });
            }
          }

          // 한글 카테고리명이 없을경우 defaultCateName로 재설정
          if (returnCateName == "") {
            returnCateName = defaultCateName;
          }
        }
        return returnCateName;
      }

      function setPlayLeaves(item) {
        var itemType;
        if (item == "1") {
          itemType = "red1";
        } else if (item == "2") {
          itemType = "red2";
        } else if (item == "3") {
          itemType = "red3";
        } else if (item == "4") {
          itemType = "red4";
        } else if (item == "5") {
          itemType = "green1";
        } else if (item == "6") {
          itemType = "green2";
        } else if (item == "7") {
          itemType = "green3";
        } else if (item == "8") {
          itemType = "brown1";
        } else if (item == "9") {
          itemType = "brown2";
        } else if (item == "10") {
          itemType = "brown3";
        }

        $.ajax({
          url: "/ko/magazine/setPlayLeavesEvent",
          type: "get",
          dataType: "json",
          data: { pk: "8804481881984", tdate: "", type: itemType },
          success: function (data) {
            //                 console.log(data);

            $(".evt_minipop_maple").hide();

            var innerHtml = "";

            if (data == "anonymous") {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '   <div class="check_my_maple" style="position:relative">';
              innerHtml +=
                '       <img src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_login.jpg" alt="단풍놀이 이벤트는 로그인 후 참여하실 수 있습니다." style="width:100%">';
              innerHtml +=
                '       <a href="/ko/magazine/events/8804481881984/login" style="text-indent:-9999px;display:block;position:absolute;width:50.491%;height:16.8%;bottom:21%;left:50%;transform: translateX(-50%);">로그인 바로가기</a>';
              innerHtml +=
                '       <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:5%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += "   </div>";
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose(\'close\')">';
              innerHtml += "   </div>";
              innerHtml += "</div>";
            } else if (data == "noTarget") {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '   <div class="check_my_maple" style="position:relative">';
              innerHtml +=
                '       <img src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_member_1.jpg" alt="단풍놀이 이벤트는 통합회원(본인 인증 완료)만 참여가능합니다." style="width:100%">';
              innerHtml +=
                '       <a href="https://www.h-point.co.kr/cu/join/start.nhd" style="text-indent:-9999px;display:block;position:absolute;width:50.491%;height:16.8%;bottom:21%;left:50%;transform: translateX(-50%);">통합회원 가입하기</a>';
              innerHtml +=
                '       <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:5%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += "   </div>";
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose(\'close\')">';
              innerHtml += "   </div>";
              innerHtml += "</div>";
            } else if (data == "nextTime") {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '   <div class="check_my_maple" style="position:relative">';
              innerHtml +=
                '       <img src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_finish.jpg" alt="오늘의 단풍잎을 모두 모았습니다.내일 다시 단풍놀이에 참여해 보세요." style="width:100%">';
              innerHtml +=
                '       <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:5%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += "   </div>";
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose()">';
              innerHtml += "   </div>";
              innerHtml += "</div>";
            } else if (data == "success") {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '    <div class="check_my_maple" style="position:relative">';
              if (item == "1" || item == "2" || item == "3" || item == "4") {
                innerHtml +=
                  '    <img src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_red.jpg" alt="가을의 시작을 알리는 붉은색의 단풍잎을 모았습니다." style="width:100%">';
              } else if (item == "5" || item == "6" || item == "7") {
                innerHtml +=
                  '    <img src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_green.jpg" alt="차분한 여유로움을 풍기는 초록색의 단풍잎을 모았습니다." style="width:100%">';
              } else if (item == "8" || item == "9" || item == "10") {
                innerHtml +=
                  '    <img src="http://cdn.thehandsome.comhttp://www.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_brown.jpg" alt="감각적인 여운이 담긴 가을의 컬러, 갈색의 단풍잎을 모았습니다." style="width:100%">';
              }

              innerHtml +=
                '        <a href="javascript:mapleEvtPopClose(\'close\')" style="text-indent:-9999px;position:absolute;width:43.93%;height:14.80%;bottom:18.55%;left:50%;margin-left:-44.75%">계속 쇼핑</a>';
              innerHtml +=
                '        <a href="javascript:goMapleEvent()" style="text-indent:-9999px;position:absolute;width:43.93%;height:14.80%;bottom:18.55%;left:50%;margin-left:0.81%">나의 단풍 나무 확인하기</a>';
              innerHtml +=
                '        <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:4%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += "    </div>";
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose(\'close\')">';
              innerHtml += "   </div>";
              innerHtml += "</div>";
            }

            if (innerHtml != "") {
              $("#mapleMainPopwrap").show();
              $("#mapleMainPopwrap").html(innerHtml);
              $("#mapleLayer").show();
            }
          },
          error: function (e) {
            //
          },
        });
      }

      function mapleEvtPopClose(type) {
        if (type == "close") {
          $(".evt_minipop_maple").hide();
          $(".popwrap_maple_evt1909").hide();
          $("#mapleMainPopwrap").hide();
          $("#mapleLayer").hide();
        } else {
          var todayDate = new Date();
          setCookie("mapleEventPopup", todayDate.getDate(), 1);
          $(".evt_minipop_maple").hide();
          $("#mapleMainPopwrap").hide();
          $("#mapleLayer").hide();
        }
      }

      function goMapleEvent() {
        location.href = "/ko/magazine/events/8804481881984";
      }
    </script>

    <!-- adinsight 공통스크립트 start -->
    <script type="text/javascript">
      var TRS_AIDX = 11865;
      var TRS_PROTOCOL = document.location.protocol;
      document.writeln();
      var TRS_URL =
        TRS_PROTOCOL +
        "//" +
        (TRS_PROTOCOL == "https:"
          ? "analysis.adinsight.co.kr"
          : "adlog.adinsight.co.kr") +
        "/emnet/trs_esc.js";
      document.writeln(
        "<scr" +
          "ipt language='javascript' src='" +
          TRS_URL +
          "'></scr" +
          "ipt>"
      );
    </script>
    <script
      language="javascript"
      src="https://analysis.adinsight.co.kr/emnet/trs_esc.js"
    ></script>
  </body>
</html>
